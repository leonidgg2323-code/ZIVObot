<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>ZIVO</title>
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#00b4ff">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="ZIVO">
<meta name="mobile-web-app-capable" content="yes">
<link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;600;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
:root{--bg:#050a14;--blue:#00b4ff;--blue2:#0066cc;--blue-glow:rgba(0,180,255,0.3);--white:#e8f4ff;--gray:#3a5a7a;--danger:#ff4466;--success:#00ffaa;--warn:#ffaa00;--card:rgba(10,22,40,0.8);--gold:#ffd700}
*{margin:0;padding:0;box-sizing:border-box}
body{background:var(--bg);color:var(--white);font-family:'Exo 2',sans-serif;min-height:100vh;overflow-x:hidden}
body::before{content:'';position:fixed;inset:0;background-image:linear-gradient(rgba(0,180,255,0.03) 1px,transparent 1px),linear-gradient(90deg,rgba(0,180,255,0.03) 1px,transparent 1px);background-size:40px 40px;pointer-events:none;z-index:0}
.app{position:relative;z-index:1;max-width:420px;margin:0 auto;min-height:100vh;display:flex;flex-direction:column}
.header{padding:16px 20px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(0,180,255,0.1)}
.logo{font-size:26px;font-weight:900;letter-spacing:4px;color:var(--white);text-shadow:0 0 20px var(--blue)}
.logo span{color:var(--blue)}
.header-right{display:flex;align-items:center;gap:8px;font-size:11px;font-family:'Share Tech Mono',monospace}
.status-dot{width:9px;height:9px;border-radius:50%}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.8)}}
.page{display:none;flex:1;padding:0 16px 100px}
/* Face */
.face-wrap{display:flex;flex-direction:column;align-items:center;padding:20px 0 10px}
.zivo-face{width:140px;height:140px;background:linear-gradient(135deg,#0d1f3a,#1a3a5c);border-radius:28px;border:2px solid var(--gray);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;transition:all .5s}
.zivo-face::before{content:'';position:absolute;top:0;left:-100%;width:60%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,180,255,0.1),transparent);animation:scan 3s infinite}
@keyframes scan{0%{left:-100%}100%{left:200%}}
.eyes{display:flex;gap:24px;z-index:1}
.eye{width:28px;height:28px;background:var(--blue);border-radius:7px;box-shadow:0 0 16px var(--blue);animation:blink 4s infinite;position:relative;overflow:hidden}
.eye::after{content:'';position:absolute;top:4px;left:4px;width:8px;height:8px;background:rgba(255,255,255,.6);border-radius:2px}
@keyframes blink{0%,90%,100%{transform:scaleY(1)}95%{transform:scaleY(.1)}}
.zivo-name{margin-top:10px;font-size:20px;font-weight:900;letter-spacing:6px;color:var(--blue)}
.zivo-mood{font-size:10px;font-family:'Share Tech Mono',monospace;color:var(--gray);letter-spacing:2px;margin-top:2px}
/* Cards */
.card{background:var(--card);border:1px solid rgba(0,180,255,0.15);border-radius:16px;padding:16px;margin-bottom:10px;backdrop-filter:blur(10px)}
.section-title{font-size:10px;letter-spacing:3px;text-transform:uppercase;color:var(--gray);margin:18px 0 10px}
/* Stats */
.stats-row{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;margin:12px 0}
.stat-card{background:var(--card);border:1px solid rgba(0,180,255,0.15);border-radius:14px;padding:12px 8px;text-align:center}
.stat-value{font-size:18px;font-weight:700;color:var(--blue);font-family:'Share Tech Mono',monospace}
.stat-label{font-size:9px;color:var(--gray);letter-spacing:1px;text-transform:uppercase;margin-top:2px}
/* Battery */
.batt-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.batt-pct{font-family:'Share Tech Mono',monospace;font-size:16px;color:var(--success)}
.batt-bar{height:7px;background:rgba(0,180,255,0.1);border-radius:4px;overflow:hidden}
.batt-fill{height:100%;width:0%;background:linear-gradient(90deg,var(--blue2),var(--blue));border-radius:4px;transition:width .5s}
/* Log */
.log-entry{display:flex;gap:8px;padding:9px 12px;background:var(--card);border:1px solid rgba(0,180,255,0.1);border-radius:11px;margin-bottom:7px;align-items:flex-start}
.log-time{font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--gray);white-space:nowrap;padding-top:1px}
.log-text{font-size:12px;line-height:1.4}
.log-text.info{color:var(--blue)}.log-text.warn{color:var(--warn)}.log-text.ok{color:var(--success)}
/* Dpad */
.dpad{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;width:190px;margin:0 auto 20px}
.dpad-btn{height:52px;background:var(--card);border:1px solid rgba(0,180,255,0.2);border-radius:11px;display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;transition:all .15s;user-select:none}
.dpad-btn:active{background:var(--blue);box-shadow:0 0 16px var(--blue-glow);transform:scale(.95)}
.dpad-center{background:rgba(0,180,255,0.1);border-color:var(--blue);font-size:11px;font-weight:700;color:var(--blue)}
.dpad-empty{background:transparent;border:none}
.action-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px}
.action-btn{padding:14px;background:var(--card);border:1px solid rgba(0,180,255,0.2);border-radius:14px;text-align:center;cursor:pointer;transition:all .2s}
.action-btn:active{transform:scale(.97);border-color:var(--blue)}
.action-icon{font-size:22px;margin-bottom:5px}
.action-label{font-size:10px;letter-spacing:1px;text-transform:uppercase;color:var(--gray)}
/* Lang */
.lang-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:16px}
.lang-btn{padding:12px;background:var(--card);border:1px solid rgba(0,180,255,0.15);border-radius:12px;text-align:center;cursor:pointer;transition:all .2s}
.lang-btn.active{border-color:var(--blue);background:rgba(0,180,255,0.1)}
.lang-flag{font-size:24px}
.lang-name{font-size:10px;color:var(--gray);margin-top:3px}
/* Toggle */
.toggle-row{display:flex;align-items:center;justify-content:space-between;padding:14px;background:var(--card);border:1px solid rgba(0,180,255,0.15);border-radius:12px;margin-bottom:8px}
.toggle-label{font-size:13px;font-weight:600}
.toggle-desc{font-size:10px;color:var(--gray);margin-top:2px}
.toggle{width:46px;height:24px;background:var(--gray);border-radius:12px;position:relative;cursor:pointer;transition:background .2s;flex-shrink:0}
.toggle.on{background:var(--blue);box-shadow:0 0 8px var(--blue-glow)}
.toggle::after{content:'';position:absolute;top:3px;left:3px;width:18px;height:18px;background:white;border-radius:50%;transition:transform .2s}
.toggle.on::after{transform:translateX(22px)}
/* Zone */
.boundary-map{width:100%;aspect-ratio:1;background:var(--card);border:1px solid rgba(0,180,255,0.2);border-radius:18px;position:relative;overflow:hidden;margin-bottom:14px}
.boundary-map::before{content:'';position:absolute;inset:0;background-image:linear-gradient(rgba(0,180,255,0.05) 1px,transparent 1px),linear-gradient(90deg,rgba(0,180,255,0.05) 1px,transparent 1px);background-size:28px 28px}
.boundary-zone{position:absolute;inset:28px;border:2px dashed var(--blue);border-radius:10px;box-shadow:0 0 16px var(--blue-glow)}
.zivo-dot{position:absolute;width:18px;height:18px;background:var(--blue);border-radius:5px;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:0 0 12px var(--blue);animation:float 3s ease-in-out infinite}
@keyframes float{0%,100%{transform:translate(-50%,-50%) translateY(0)}50%{transform:translate(-50%,-50%) translateY(-5px)}}
.corner-handle{position:absolute;width:12px;height:12px;background:var(--blue);border-radius:3px}
.info-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.info-card{background:var(--card);border:1px solid rgba(0,180,255,0.15);border-radius:12px;padding:12px}
.info-card-label{font-size:9px;color:var(--gray);letter-spacing:1px;text-transform:uppercase}
.info-card-value{font-size:16px;font-weight:700;color:var(--blue);font-family:'Share Tech Mono',monospace;margin-top:3px}
/* Nav */
.bottom-nav{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:420px;background:rgba(5,10,20,0.97);border-top:1px solid rgba(0,180,255,0.15);display:flex;padding:8px 0 18px;backdrop-filter:blur(20px);z-index:100}
.nav-item{flex:1;display:flex;flex-direction:column;align-items:center;gap:3px;cursor:pointer;padding:5px 0;transition:all .2s}
.nav-icon{font-size:20px;filter:grayscale(1) opacity(.4);transition:all .2s}
.nav-label{font-size:8px;letter-spacing:1px;text-transform:uppercase;color:var(--gray)}
.nav-item.active .nav-icon{filter:none}
.nav-item.active .nav-label{color:var(--blue)}
/* Offline banner */
#offline-banner{text-align:center;padding:14px 20px;color:var(--gray)}
/* â”€â”€ PROFILE â”€â”€ */
.profile-header{display:flex;align-items:center;gap:14px;padding:16px;background:var(--card);border:1px solid rgba(0,180,255,0.15);border-radius:16px;margin-bottom:10px}
.avatar{width:56px;height:56px;border-radius:14px;background:linear-gradient(135deg,var(--blue2),var(--blue));display:flex;align-items:center;justify-content:center;font-size:24px;flex-shrink:0}
.profile-name{font-size:18px;font-weight:700}
.profile-sub{font-size:11px;color:var(--gray);margin-top:2px}
.sub-badge{display:inline-block;padding:2px 8px;border-radius:20px;font-size:10px;font-weight:700;letter-spacing:1px;margin-top:4px}
.sub-badge.free{background:rgba(58,90,122,0.4);color:var(--gray);border:1px solid var(--gray)}
.sub-badge.pro{background:rgba(255,215,0,0.15);color:var(--gold);border:1px solid var(--gold)}
.sub-badge.trial{background:rgba(0,255,170,0.15);color:var(--success);border:1px solid var(--success)}
.input-row{margin-bottom:10px}
.input-label{font-size:10px;letter-spacing:2px;color:var(--gray);margin-bottom:5px}
.zivo-input{width:100%;background:rgba(0,180,255,0.05);border:1px solid rgba(0,180,255,0.25);border-radius:10px;padding:11px 13px;color:var(--white);font-family:'Exo 2',sans-serif;font-size:14px;outline:none}
.zivo-input:focus{border-color:var(--blue)}
/* â”€â”€ SUBSCRIPTION â”€â”€ */
.plan-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:12px}
.plan-card{background:var(--card);border:2px solid rgba(0,180,255,0.15);border-radius:16px;padding:16px;cursor:pointer;transition:all .2s;text-align:center;position:relative}
.plan-card.active{border-color:var(--blue);background:rgba(0,180,255,0.08)}
.plan-card.gold{border-color:var(--gold);background:rgba(255,215,0,0.05)}
.plan-card.gold.active{background:rgba(255,215,0,0.1)}
.plan-name{font-size:13px;font-weight:700;letter-spacing:1px}
.plan-price{font-size:22px;font-weight:900;color:var(--blue);font-family:'Share Tech Mono',monospace;margin:6px 0 2px}
.plan-card.gold .plan-price{color:var(--gold)}
.plan-period{font-size:10px;color:var(--gray)}
.plan-save{position:absolute;top:-8px;left:50%;transform:translateX(-50%);background:var(--success);color:#000;font-size:9px;font-weight:700;padding:2px 8px;border-radius:10px;letter-spacing:1px;white-space:nowrap}
.plan-forever{grid-column:1/-1}
.feature-list{margin:6px 0 0}
.feature-item{display:flex;align-items:center;gap:8px;padding:6px 0;font-size:12px;border-bottom:1px solid rgba(0,180,255,0.07)}
.feature-item:last-child{border:none}
.feature-item .fi-icon{font-size:14px;width:20px;text-align:center}
.feature-locked{opacity:.4}
.btn-primary{width:100%;padding:14px;background:var(--blue);border:none;border-radius:12px;cursor:pointer;font-size:13px;font-weight:700;letter-spacing:2px;color:#000;font-family:'Exo 2',sans-serif;transition:all .2s;margin-top:4px}
.btn-primary:active{opacity:.8;transform:scale(.98)}
.btn-primary.gold{background:var(--gold);color:#000}
.btn-outline{width:100%;padding:13px;background:transparent;border:1px solid var(--blue);border-radius:12px;cursor:pointer;font-size:12px;font-weight:700;letter-spacing:2px;color:var(--blue);font-family:'Exo 2',sans-serif;transition:all .2s;margin-top:6px}
/* Trial banner */
.trial-banner{background:linear-gradient(135deg,rgba(0,255,170,0.1),rgba(0,180,255,0.1));border:1px solid var(--success);border-radius:14px;padding:14px 16px;margin-bottom:14px;display:flex;align-items:center;gap:12px}
.trial-days{font-size:28px;font-weight:900;color:var(--success);font-family:'Share Tech Mono',monospace;min-width:40px}
/* â”€â”€ VOICES â”€â”€ */
.voice-grid{display:grid;gap:10px;margin-bottom:14px}
.voice-card{display:flex;align-items:center;gap:12px;padding:14px;background:var(--card);border:2px solid rgba(0,180,255,0.15);border-radius:14px;cursor:pointer;transition:all .2s}
.voice-card.active{border-color:var(--blue);background:rgba(0,180,255,0.08)}
.voice-card.locked{opacity:.5;cursor:default}
.voice-card.locked .lock-icon{display:flex}
.lock-icon{display:none;margin-left:auto;font-size:14px;color:var(--gold)}
.voice-avatar{width:42px;height:42px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0}
.voice-name{font-size:14px;font-weight:700}
.voice-desc{font-size:11px;color:var(--gray);margin-top:1px}
.voice-play{margin-left:auto;width:32px;height:32px;border-radius:8px;background:rgba(0,180,255,0.1);border:1px solid rgba(0,180,255,0.3);display:flex;align-items:center;justify-content:center;font-size:14px;cursor:pointer;flex-shrink:0}
/* â”€â”€ SMART MODE â”€â”€ */
.smart-hero{background:linear-gradient(135deg,rgba(0,180,255,0.1),rgba(0,102,204,0.15));border:1px solid var(--blue);border-radius:16px;padding:18px;margin-bottom:14px;text-align:center}
.smart-hero-icon{font-size:36px;margin-bottom:8px}
.smart-hero-title{font-size:16px;font-weight:700;margin-bottom:4px}
.smart-hero-desc{font-size:11px;color:var(--gray);line-height:1.5}
/* â”€â”€ CALCULATOR â”€â”€ */
.calc-display{background:rgba(0,0,0,0.4);border:1px solid rgba(0,180,255,0.2);border-radius:14px;padding:16px;margin-bottom:12px;min-height:80px;display:flex;flex-direction:column;justify-content:flex-end}
.calc-expr{font-size:12px;color:var(--gray);font-family:'Share Tech Mono',monospace;min-height:18px;word-break:break-all}
.calc-result{font-size:28px;font-weight:700;color:var(--blue);font-family:'Share Tech Mono',monospace;text-align:right;word-break:break-all}
.calc-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.calc-btn{height:54px;background:var(--card);border:1px solid rgba(0,180,255,0.15);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:600;cursor:pointer;transition:all .15s;user-select:none;color:var(--white)}
.calc-btn:active{transform:scale(.93)}
.calc-btn.op{color:var(--blue);border-color:rgba(0,180,255,0.3)}
.calc-btn.eq{background:var(--blue);color:#000;border-color:var(--blue)}
.calc-btn.clear{color:var(--danger);border-color:rgba(255,68,102,0.3)}
.calc-btn.wide{grid-column:span 2}
.calc-ai-btn{width:100%;margin-top:10px;padding:13px;background:linear-gradient(135deg,rgba(0,180,255,0.15),rgba(0,102,204,0.15));border:1px solid var(--blue);border-radius:12px;cursor:pointer;font-size:12px;font-weight:700;letter-spacing:1px;color:var(--blue);font-family:'Exo 2',sans-serif;transition:all .2s}
.calc-solution{background:rgba(0,180,255,0.05);border:1px solid rgba(0,180,255,0.2);border-radius:12px;padding:14px;margin-top:10px;font-size:13px;line-height:1.6;display:none}
/* Modal */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:200;display:none;align-items:flex-end;justify-content:center;backdrop-filter:blur(4px)}
.modal-overlay.open{display:flex}
.modal{background:#0a1628;border:1px solid rgba(0,180,255,0.2);border-radius:20px 20px 0 0;padding:24px 20px 36px;width:100%;max-width:420px;max-height:85vh;overflow-y:auto}
.modal-title{font-size:18px;font-weight:700;margin-bottom:16px;text-align:center}
.modal-close{position:absolute;top:16px;right:20px;font-size:22px;cursor:pointer;color:var(--gray)}
</style>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
<div class="app">
  <div class="header">
    <div class="logo">ZI<span>V</span>O</div>
    <div class="header-right">
      <div class="status-dot" id="status-dot" style="background:var(--gray);box-shadow:none;animation:none;"></div>
      <span id="status-text" style="color:var(--gray)"></span>
    </div>
  </div>

  <!-- Face â€” Ğ²ÑĞµĞ³Ğ´Ğ° Ğ²Ğ¸Ğ´Ğ½Ğ¾ -->
  <div class="face-wrap">
    <div class="zivo-face" id="zivo-face">
      <div class="eyes"><div class="eye"></div><div class="eye"></div></div>
    </div>
    <div class="zivo-name" id="bot-display-name">ZIVO</div>
    <div class="zivo-mood" id="mood-text"></div>
  </div>

  <!-- REGISTRATION SCREEN â€” shown only on first launch -->
  <div id="reg-screen" style="display:none;padding:24px 20px;text-align:center;">
    <div style="font-size:48px;margin-bottom:12px;">ğŸ‘‹</div>
    <div style="font-size:22px;font-weight:900;letter-spacing:3px;margin-bottom:6px;" id="reg-title"></div>
    <div style="font-size:12px;color:var(--gray);margin-bottom:28px;" id="reg-subtitle"></div>
    <div class="card" style="text-align:left;">
      <div class="input-row">
        <div class="input-label" id="reg-name-label"></div>
        <input id="reg-name" class="zivo-input" type="text" autocomplete="name"/>
      </div>
      <div class="input-row">
        <div class="input-label" id="reg-email-label"></div>
        <input id="reg-email" class="zivo-input" type="email" autocomplete="email"/>
      </div>
      <div class="input-row" style="margin-bottom:0">
        <div class="input-label" id="reg-password-label"></div>
        <input id="reg-password" class="zivo-input" type="password" autocomplete="new-password"/>
      </div>
      <div id="reg-error" style="font-size:11px;color:var(--danger);margin-top:8px;display:none;"></div>
    </div>
    <button onclick="completeRegistration()" id="reg-btn" class="btn-primary" style="margin-top:14px;"></button>
    <div style="margin-top:12px;font-size:11px;color:var(--gray);" id="reg-login-hint"></div>
    <button onclick="showLoginForm()" id="reg-login-btn" style="background:none;border:none;color:var(--blue);font-size:12px;font-weight:700;cursor:pointer;margin-top:4px;font-family:'Exo 2',sans-serif;" id="reg-login-link"></button>
  </div>

  <!-- LOGIN SCREEN -->
  <div id="login-screen" style="display:none;padding:24px 20px;text-align:center;">
    <div style="font-size:48px;margin-bottom:12px;">ğŸ”‘</div>
    <div style="font-size:22px;font-weight:900;letter-spacing:3px;margin-bottom:6px;" id="login-title"></div>
    <div style="font-size:12px;color:var(--gray);margin-bottom:28px;" id="login-subtitle"></div>
    <div class="card" style="text-align:left;">
      <div class="input-row">
        <div class="input-label" id="login-email-label"></div>
        <input id="login-email" class="zivo-input" type="email" autocomplete="email"/>
      </div>
      <div class="input-row" style="margin-bottom:0">
        <div class="input-label" id="login-password-label"></div>
        <input id="login-password" class="zivo-input" type="password" autocomplete="current-password"/>
      </div>
      <div id="login-error" style="font-size:11px;color:var(--danger);margin-top:8px;display:none;"></div>
    </div>
    <button onclick="completeLogin()" id="login-btn" class="btn-primary" style="margin-top:14px;"></button>
    <button onclick="showRegForm()" style="background:none;border:none;color:var(--blue);font-size:12px;font-weight:700;cursor:pointer;margin-top:10px;font-family:'Exo 2',sans-serif;display:block;width:100%;" id="login-reg-link"></button>
  </div>

  <!-- Offline banner -->
  <div id="offline-banner">
    <div style="font-size:36px;margin-bottom:8px;">ğŸ“¡</div>
    <div style="font-size:13px;font-weight:600;letter-spacing:2px;margin-bottom:4px;" data-t="not_connected"></div>
    <div style="font-size:11px;opacity:.6;margin-bottom:18px;" data-t="not_connected_desc"></div>
    <div class="card" style="text-align:left;">
      <div style="font-size:10px;letter-spacing:2px;color:var(--gray);margin-bottom:6px;" data-t="serial_label"></div>
      <input id="serial-input" type="text" maxlength="12" class="zivo-input" style="letter-spacing:3px;font-family:'Share Tech Mono',monospace;font-size:15px;text-transform:uppercase;" placeholder="ZIVO-XXXXXX" oninput="this.value=this.value.toUpperCase()"/>
      <div id="serial-error" style="font-size:11px;color:var(--danger);margin-top:6px;display:none;" data-t="serial_wrong"></div>
      <button onclick="tryConnect()" id="connect-btn" class="btn-primary" style="margin-top:12px;" data-t="connect_btn"></button>
    </div>
    <div style="margin-top:12px;font-size:11px;opacity:.4;" data-t="serial_hint"></div>
  </div>

  <!-- Pages wrapper -->
  <div id="pages-wrapper" style="display:none">

    <!-- HOME -->
    <div id="page-home" class="page" style="display:block">
      <!-- Trial banner if active -->
      <div id="trial-banner" class="trial-banner" style="display:none">
        <div class="trial-days" id="trial-days-left">7</div>
        <div>
          <div style="font-size:13px;font-weight:700;" data-t="trial_active"></div>
          <div style="font-size:11px;color:var(--gray);margin-top:2px;" data-t="trial_desc"></div>
        </div>
      </div>
      <div class="stats-row">
        <div class="stat-card"><div class="stat-value" id="temp-val">--</div><div class="stat-label" data-t="temp"></div></div>
        <div class="stat-card"><div class="stat-value" id="uptime-val">--</div><div class="stat-label" data-t="uptime"></div></div>
        <div class="stat-card"><div class="stat-value">âœ“</div><div class="stat-label">Wi-Fi</div></div>
      </div>
      <div class="card">
        <div class="batt-header">
          <span style="font-size:10px;letter-spacing:2px;text-transform:uppercase;color:var(--gray);" data-t="battery"></span>
          <span class="batt-pct" id="batt-text">--%</span>
        </div>
        <div class="batt-bar"><div class="batt-fill" id="batt-fill"></div></div>
      </div>
      <div class="section-title" data-t="log"></div>
      <div id="log-list"></div>
    </div>

    <!-- CONTROL -->
    <div id="page-control" class="page">
      <div class="section-title" data-t="movement"></div>
      <div class="dpad">
        <div class="dpad-btn dpad-empty"></div>
        <div class="dpad-btn" onclick="sendCmd('forward')">â–²</div>
        <div class="dpad-btn dpad-empty"></div>
        <div class="dpad-btn" onclick="sendCmd('left')">â—„</div>
        <div class="dpad-btn dpad-center">ZIVO</div>
        <div class="dpad-btn" onclick="sendCmd('right')">â–º</div>
        <div class="dpad-btn dpad-empty"></div>
        <div class="dpad-btn" onclick="sendCmd('backward')">â–¼</div>
        <div class="dpad-btn dpad-empty"></div>
      </div>
      <div class="section-title" data-t="actions"></div>
      <div class="action-grid">
        <div class="action-btn" onclick="sendCmd('wake')"><div class="action-icon">ğŸ¤</div><div class="action-label" data-t="wakeup"></div></div>
        <div class="action-btn" onclick="sendCmd('sleep')"><div class="action-icon">ğŸ˜´</div><div class="action-label" data-t="sleep"></div></div>
        <div class="action-btn" onclick="sendCmd('charge')"><div class="action-icon">ğŸ”‹</div><div class="action-label" data-t="charge"></div></div>
        <div class="action-btn" onclick="sendCmd('dance')"><div class="action-icon">ğŸ²</div><div class="action-label" data-t="random"></div></div>
      </div>
    </div>

    <!-- ZONE -->
    <div id="page-boundary" class="page">
      <div class="section-title" data-t="zonemap"></div>
      <div class="boundary-map">
        <div class="boundary-zone">
          <div class="corner-handle" style="top:-6px;left:-6px"></div>
          <div class="corner-handle" style="top:-6px;right:-6px"></div>
          <div class="corner-handle" style="bottom:-6px;left:-6px"></div>
          <div class="corner-handle" style="bottom:-6px;right:-6px"></div>
        </div>
        <div class="zivo-dot"></div>
      </div>
      <div class="info-grid">
        <div class="info-card"><div class="info-card-label" data-t="zonewidth"></div><div class="info-card-value">80cm</div></div>
        <div class="info-card"><div class="info-card-label" data-t="zonedepth"></div><div class="info-card-value">60cm</div></div>
        <div class="info-card"><div class="info-card-label" data-t="edgealerts"></div><div class="info-card-value" style="color:var(--success)" data-t="on"></div></div>
        <div class="info-card"><div class="info-card-label" data-t="falls"></div><div class="info-card-value">0</div></div>
      </div>
    </div>

  </div><!-- end pages-wrapper -->

  <!-- SETTINGS â€” always accessible -->
  <div id="page-settings" class="page" style="display:none">
    <div class="section-title" data-t="language"></div>
    <div class="lang-grid">
      <div class="lang-btn" onclick="selectLang(this,'ru')"><div class="lang-flag">ğŸ‡·ğŸ‡º</div><div class="lang-name">Ğ ÑƒÑÑĞºĞ¸Ğ¹</div></div>
      <div class="lang-btn active" onclick="selectLang(this,'en')"><div class="lang-flag">ğŸ‡ºğŸ‡¸</div><div class="lang-name">English</div></div>
      <div class="lang-btn" onclick="selectLang(this,'he')"><div class="lang-flag">ğŸ‡®ğŸ‡±</div><div class="lang-name">×¢×‘×¨×™×ª</div></div>
      <div class="lang-btn" onclick="selectLang(this,'zh')"><div class="lang-flag">ğŸ‡¨ğŸ‡³</div><div class="lang-name">ä¸­æ–‡</div></div>
      <div class="lang-btn" onclick="selectLang(this,'uk')"><div class="lang-flag">ğŸ‡ºğŸ‡¦</div><div class="lang-name">Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°</div></div>
    </div>
    <div class="section-title" data-t="features"></div>
    <div class="toggle-row"><div><div class="toggle-label" data-t="voiceact"></div><div class="toggle-desc" data-t="voiceact_desc"></div></div><div class="toggle on" onclick="this.classList.toggle('on')"></div></div>
    <div class="toggle-row"><div><div class="toggle-label" data-t="edgeprot"></div><div class="toggle-desc" data-t="edgeprot_desc"></div></div><div class="toggle on" onclick="this.classList.toggle('on')"></div></div>
    <div class="toggle-row"><div><div class="toggle-label" data-t="autocharge"></div><div class="toggle-desc" data-t="autocharge_desc"></div></div><div class="toggle on" onclick="this.classList.toggle('on')"></div></div>
    <div class="toggle-row"><div><div class="toggle-label" data-t="explore"></div><div class="toggle-desc" data-t="explore_desc"></div></div><div class="toggle" onclick="this.classList.toggle('on')"></div></div>
    <div class="toggle-row"><div><div class="toggle-label" data-t="notifs"></div><div class="toggle-desc" data-t="notifs_desc"></div></div><div class="toggle on" onclick="this.classList.toggle('on')"></div></div>
  </div>

  <!-- PROFILE PAGE -->
  <div id="page-profile" class="page" style="display:none">
    <div class="profile-header">
      <div class="avatar" id="profile-avatar">ğŸ¤–</div>
      <div>
        <div class="profile-name" id="profile-name-display">User</div>
        <div class="profile-sub" id="profile-member-since"></div>
        <div id="sub-badge-display" class="sub-badge free">FREE</div>
      </div>
    </div>

    <!-- User info -->
    <div class="section-title" data-t="your_info"></div>
    <div class="card">
      <div class="input-row">
        <div class="input-label" data-t="your_name"></div>
        <input id="user-name-input" class="zivo-input" type="text" placeholder="Your name" oninput="saveProfile()"/>
      </div>
      <div class="input-row" style="margin-bottom:0">
        <div class="input-label" data-t="bot_custom_name"></div>
        <input id="bot-name-input" class="zivo-input" type="text" placeholder="ZIVO" oninput="saveBotName()"/>
      </div>
    </div>

    <!-- Smart mode -->
    <div class="section-title" data-t="smart_mode"></div>
    <div class="smart-hero">
      <div class="smart-hero-icon">ğŸ§ </div>
      <div class="smart-hero-title" data-t="smart_mode_title"></div>
      <div class="smart-hero-desc" data-t="smart_mode_desc"></div>
    </div>
    <div class="toggle-row" id="smart-mode-toggle-row">
      <div><div class="toggle-label" data-t="smart_mode_label"></div><div class="toggle-desc" data-t="smart_mode_sub"></div></div>
      <div class="toggle" id="smart-toggle" onclick="toggleSmartMode()"></div>
    </div>

    <!-- Voices -->
    <div class="section-title" data-t="voice_section"></div>
    <div class="voice-grid" id="voice-list"></div>
    <div id="voice-locked-msg" style="display:none;text-align:center;padding:10px;font-size:11px;color:var(--gold);" data-t="voice_locked_msg"></div>

    <!-- Subscription -->
    <div class="section-title" data-t="subscription"></div>
    <div id="sub-current-info" class="card" style="margin-bottom:10px;"></div>
    <button class="btn-outline" onclick="openSubModal()" data-t="manage_sub"></button>
    <button onclick="logout()" style="width:100%;margin-top:10px;padding:13px;background:transparent;border:1px solid var(--danger);border-radius:12px;cursor:pointer;font-size:12px;font-weight:700;letter-spacing:2px;color:var(--danger);font-family:'Exo 2',sans-serif;" id="logout-btn">LOGOUT</button>
  </div>

  <!-- CALCULATOR PAGE -->
  <div id="page-calc" class="page" style="display:none">
    <div class="section-title" data-t="calculator"></div>
    <div class="calc-display">
      <div class="calc-expr" id="calc-expr"></div>
      <div class="calc-result" id="calc-result">0</div>
    </div>
    <div class="calc-grid">
      <div class="calc-btn clear" onclick="calcClear()">C</div>
      <div class="calc-btn op" onclick="calcInput('(')">(</div>
      <div class="calc-btn op" onclick="calcInput(')')">)</div>
      <div class="calc-btn op" onclick="calcInput('/')">Ã·</div>
      <div class="calc-btn" onclick="calcInput('7')">7</div>
      <div class="calc-btn" onclick="calcInput('8')">8</div>
      <div class="calc-btn" onclick="calcInput('9')">9</div>
      <div class="calc-btn op" onclick="calcInput('*')">Ã—</div>
      <div class="calc-btn" onclick="calcInput('4')">4</div>
      <div class="calc-btn" onclick="calcInput('5')">5</div>
      <div class="calc-btn" onclick="calcInput('6')">6</div>
      <div class="calc-btn op" onclick="calcInput('-')">âˆ’</div>
      <div class="calc-btn" onclick="calcInput('1')">1</div>
      <div class="calc-btn" onclick="calcInput('2')">2</div>
      <div class="calc-btn" onclick="calcInput('3')">3</div>
      <div class="calc-btn op" onclick="calcInput('+')">+</div>
      <div class="calc-btn" onclick="calcInput('0')">0</div>
      <div class="calc-btn" onclick="calcInput('.')">.</div>
      <div class="calc-btn op" onclick="calcInput('^')">xâ¿</div>
      <div class="calc-btn eq" onclick="calcEquals()">=</div>
      <div class="calc-btn op wide" onclick="calcInput('sqrt(')">âˆš</div>
      <div class="calc-btn op" onclick="calcInput('Math.PI')">Ï€</div>
      <div class="calc-btn op" onclick="calcBackspace()">âŒ«</div>
    </div>
    <button class="calc-ai-btn" id="ai-solve-btn" onclick="aiSolve()">
      ğŸ§  <span data-t="ai_solve"></span>
    </button>
    <div id="ai-locked-calc" style="display:none;text-align:center;padding:12px;font-size:11px;color:var(--gold);cursor:pointer;" onclick="openSubModal()" data-t="calc_locked"></div>
    <div class="calc-solution" id="calc-solution"></div>
  </div>

  <!-- Bottom nav â€” 6 items -->
  <div class="bottom-nav">
    <div class="nav-item active" onclick="switchPage('home',this)"><div class="nav-icon">ğŸ¤–</div><div class="nav-label">ZIVO</div></div>
    <div class="nav-item" onclick="switchPage('control',this)"><div class="nav-icon">ğŸ•¹ï¸</div><div class="nav-label" data-t="nav_control"></div></div>
    <div class="nav-item" onclick="switchPage('boundary',this)"><div class="nav-icon">ğŸ“</div><div class="nav-label" data-t="nav_zone"></div></div>
    <div class="nav-item" onclick="switchPage('calc',this)"><div class="nav-icon">ğŸ§®</div><div class="nav-label" data-t="nav_calc"></div></div>
    <div class="nav-item" onclick="switchPage('profile',this)"><div class="nav-icon">ğŸ‘¤</div><div class="nav-label" data-t="nav_profile"></div></div>
    <div class="nav-item" onclick="switchPage('settings',this)"><div class="nav-icon">âš™ï¸</div><div class="nav-label" data-t="nav_settings"></div></div>
  </div>
</div>

<!-- SUBSCRIPTION MODAL -->
<div class="modal-overlay" id="sub-modal">
  <div class="modal" style="position:relative">
    <div class="modal-close" onclick="closeSubModal()">âœ•</div>
    <div class="modal-title" data-t="choose_plan"></div>

    <!-- Trial info if active -->
    <div id="modal-trial-info" style="display:none;background:rgba(0,255,170,0.08);border:1px solid var(--success);border-radius:12px;padding:12px;margin-bottom:14px;font-size:12px;text-align:center;color:var(--success);" data-t="trial_modal_info"></div>

    <div class="plan-grid">
      <div class="plan-card" id="plan-monthly" onclick="selectPlan('monthly')">
        <div class="plan-name" data-t="plan_monthly"></div>
        <div class="plan-price" id="price-monthly">â€”</div>
        <div class="plan-period" data-t="per_month"></div>
      </div>
      <div class="plan-card" id="plan-yearly" onclick="selectPlan('yearly')">
        <div class="plan-save" data-t="save_40"></div>
        <div class="plan-name" data-t="plan_yearly"></div>
        <div class="plan-price" id="price-yearly">â€”</div>
        <div class="plan-period" data-t="per_month_billed"></div>
      </div>
      <div class="plan-card gold plan-forever" id="plan-forever" onclick="selectPlan('forever')">
        <div class="plan-name" data-t="plan_forever"></div>
        <div class="plan-price" style="color:var(--gold)" id="price-forever">â€”</div>
        <div class="plan-period" data-t="one_time"></div>
      </div>
    </div>

    <div class="section-title" data-t="whats_included"></div>
    <div class="feature-list">
      <div class="feature-item"><span class="fi-icon">âœ…</span><span data-t="feat_basic"></span></div>
      <div class="feature-item"><span class="fi-icon">âœ…</span><span data-t="feat_control"></span></div>
      <div class="feature-item"><span class="fi-icon">ğŸ”’</span><span class="feature-locked" data-t="feat_voices"></span></div>
      <div class="feature-item"><span class="fi-icon">ğŸ”’</span><span class="feature-locked" data-t="feat_smart"></span></div>
      <div class="feature-item"><span class="fi-icon">ğŸ”’</span><span class="feature-locked" data-t="feat_calc"></span></div>
      <div class="feature-item"><span class="fi-icon">ğŸ”’</span><span class="feature-locked" data-t="feat_custom_name"></span></div>
    </div>

    <button class="btn-primary" id="sub-btn" onclick="subscribePlan()" data-t="subscribe_btn"></button>
    <button class="btn-outline" onclick="closeSubModal()" style="margin-top:8px;" data-t="maybe_later"></button>
  </div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FIREBASE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const firebaseConfig = {
  apiKey: "AIzaSyA60wxCXnSd0r_crI8Kfke8FE4D1D7YCbA",
  authDomain: "zivo-c411b.firebaseapp.com",
  projectId: "zivo-c411b",
  storageBucket: "zivo-c411b.firebasestorage.app",
  messagingSenderId: "508877760361",
  appId: "1:508877760361:web:68fac40a187eb6c9bdbff8"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// REGISTERED ROBOTS â€” ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ Ñ‡Ñ‚Ğ¾ Ğ¼ĞµĞ½ÑÑ‚ÑŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const REGISTERED_ROBOTS = {
  'ZIVO-ADMINMW': { name: 'ZIVO #1', owner: 'Admin' },
  // 'ZIVO-XXXXXX': { name: 'ZIVO #2', owner: 'Name' },
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// VOICES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const VOICES = [
  { id:'default', emoji:'ğŸ¤–', name:'ZIVO',  desc_key:'voice_default_desc', free:true  },
  { id:'sage',    emoji:'ğŸ§™', name:'Sage',  desc_key:'voice_sage_desc',    free:false },
  { id:'nova',    emoji:'âš¡', name:'Nova',  desc_key:'voice_nova_desc',    free:false },
  { id:'echo',    emoji:'ğŸŒŠ', name:'Echo',  desc_key:'voice_echo_desc',    free:false },
  { id:'spark',   emoji:'ğŸ”¥', name:'Spark', desc_key:'voice_spark_desc',   free:false },
  { id:'atlas',   emoji:'ğŸŒ', name:'Atlas', desc_key:'voice_atlas_desc',   free:false },
  { id:'luna',    emoji:'ğŸŒ™', name:'Luna',  desc_key:'voice_luna_desc',    free:false },
  { id:'titan',   emoji:'âš™ï¸', name:'Titan', desc_key:'voice_titan_desc',   free:false },
  { id:'pixel',   emoji:'ğŸ‘¾', name:'Pixel', desc_key:'voice_pixel_desc',   free:false },
  { id:'zen',     emoji:'ğŸƒ', name:'Zen',   desc_key:'voice_zen_desc',     free:false },
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TRANSLATIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const T = {
  ru:{
    online:'Ğ’ Ğ¡Ğ•Ğ¢Ğ˜',temp:'Ğ¢Ğ•ĞœĞŸ',uptime:'Ğ’Ğ Ğ•ĞœĞ¯',battery:'Ğ‘ĞĞ¢ĞĞ Ğ•Ğ¯',log:'Ğ–Ğ£Ğ ĞĞĞ›',
    movement:'Ğ”Ğ’Ğ˜Ğ–Ğ•ĞĞ˜Ğ•',actions:'Ğ”Ğ•Ğ™Ğ¡Ğ¢Ğ’Ğ˜Ğ¯',
    wakeup:'Ğ ĞĞ—Ğ‘Ğ£Ğ”Ğ˜Ğ¢Ğ¬',sleep:'Ğ¡ĞŸĞĞ¢Ğ¬',charge:'ĞĞ Ğ—ĞĞ Ğ¯Ğ”ĞšĞ£',random:'Ğ¢ĞĞĞ•Ğ¦',
    zonemap:'ĞšĞĞ Ğ¢Ğ Ğ—ĞĞĞ«',zonewidth:'Ğ¨Ğ˜Ğ Ğ˜ĞĞ',zonedepth:'Ğ“Ğ›Ğ£Ğ‘Ğ˜ĞĞ',
    edgealerts:'Ğ—ĞĞ©Ğ˜Ğ¢Ğ ĞšĞ ĞĞ¯',on:'Ğ’ĞšĞ›',falls:'ĞŸĞĞ”Ğ•ĞĞ˜Ğ™',
    language:'Ğ¯Ğ—Ğ«Ğš',features:'Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ˜',
    voiceact:'Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ°Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ',voiceact_desc:'ĞĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ Ñ„Ñ€Ğ°Ğ·Ğ¾Ğ¹ "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ ZIVO"',
    edgeprot:'Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ñ',edgeprot_desc:'ĞÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°Ñ‚ÑŒÑÑ Ñƒ ĞºÑ€Ğ°Ñ ÑÑ‚Ğ¾Ğ»Ğ°',
    autocharge:'ĞĞ²Ñ‚Ğ¾ Ğ·Ğ°Ñ€ÑĞ´ĞºĞ°',autocharge_desc:'Ğ•Ñ…Ğ°Ñ‚ÑŒ Ğ½Ğ° Ğ±Ğ°Ğ·Ñƒ Ğ¿Ñ€Ğ¸ Ğ½Ğ¸Ğ·ĞºĞ¾Ğ¼ Ğ·Ğ°Ñ€ÑĞ´Ğµ',
    explore:'Ğ¡Ğ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ³ÑƒĞ»ĞºĞ¸',explore_desc:'ZIVO ĞµĞ·Ğ´Ğ¸Ñ‚ ÑĞ°Ğ¼Ğ¾ÑÑ‚Ğ¾ÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾',
    notifs:'Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ',notifs_desc:'Ğ—Ğ°Ñ€ÑĞ´ Ğ¸ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° ĞºÑ€Ğ°Ñ',
    nav_control:'Ğ£ĞŸĞ ĞĞ’Ğ›Ğ•ĞĞ˜Ğ•',nav_zone:'Ğ—ĞĞĞ',nav_settings:'ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜',
    nav_calc:'ĞšĞĞ›Ğ¬ĞšĞ£Ğ›Ğ¯Ğ¢ĞĞ ',nav_profile:'ĞŸĞ ĞĞ¤Ğ˜Ğ›Ğ¬',
    moods:['Ğ“ĞĞ¢ĞĞ’ â€¢ Ğ¡Ğ›Ğ£Ğ¨ĞĞ®','Ğ˜Ğ¡Ğ¡Ğ›Ğ•Ğ”Ğ£Ğ®','Ğ¡Ğ§ĞĞ¡Ğ¢Ğ›Ğ˜Ğ’','Ğ–Ğ”Ğ£ ĞšĞĞœĞĞĞ”Ğ«'],
    log_connected:'ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ñ‘Ğ½ Ğº {name}',
    upfmt:(h,m)=>h+'Ñ‡'+String(m).padStart(2,'0')+'Ğ¼',
    offline:'ĞĞ• ĞŸĞĞ”ĞšĞ›Ğ®Ğ§ĞĞ',not_connected:'ZIVO Ğ½Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ñ‘Ğ½',
    not_connected_desc:'Ğ’Ğ²ĞµĞ´Ğ¸ ÑĞµÑ€Ğ¸Ğ¹Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€',connect_btn:'ĞŸĞĞ”ĞšĞ›Ğ®Ğ§Ğ˜Ğ¢Ğ¬',
    serial_label:'Ğ¡Ğ•Ğ Ğ˜Ğ™ĞĞ«Ğ™ ĞĞĞœĞ•Ğ ',serial_wrong:'ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ ÑĞµÑ€Ğ¸Ğ¹Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€.',
    serial_hint:'Ğ¡ĞµÑ€Ğ¸Ğ¹Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€ Ğ½Ğ° Ğ½Ğ°ĞºĞ»ĞµĞ¹ĞºĞµ Ğ½Ğ° Ğ´Ğ½Ğµ ĞºĞ¾Ñ€Ğ¿ÑƒÑĞ°',
    // Registration
    reg_title:'Ğ”ĞĞ‘Ğ Ğ ĞŸĞĞ–ĞĞ›ĞĞ’ĞĞ¢Ğ¬',reg_subtitle:'Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚ Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ',
    reg_name:'Ğ¢Ğ’ĞĞ Ğ˜ĞœĞ¯',reg_email:'EMAIL',reg_password:'ĞŸĞĞ ĞĞ›Ğ¬',
    reg_btn:'Ğ¡ĞĞ—Ğ”ĞĞ¢Ğ¬ ĞĞšĞšĞĞ£ĞĞ¢',reg_login_hint:'Ğ£Ğ¶Ğµ ĞµÑÑ‚ÑŒ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚?',reg_login_link:'Ğ’ĞĞ™Ğ¢Ğ˜',
    login_title:'Ğ¡ Ğ’ĞĞ—Ğ’Ğ ĞĞ©Ğ•ĞĞ˜Ğ•Ğœ',login_subtitle:'Ğ’Ğ¾Ğ¹Ğ´Ğ¸ Ğ² ÑĞ²Ğ¾Ğ¹ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚',
    login_email:'EMAIL',login_password:'ĞŸĞĞ ĞĞ›Ğ¬',login_btn:'Ğ’ĞĞ™Ğ¢Ğ˜',login_reg_link:'Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚',
    reg_err_fill:'Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸ Ğ²ÑĞµ Ğ¿Ğ¾Ğ»Ñ',reg_err_email:'ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ email',reg_err_pass:'ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 6 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²',
    reg_err_exists:'Email ÑƒĞ¶Ğµ Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½',reg_err_notfound:'ĞĞºĞºĞ°ÑƒĞ½Ñ‚ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½',reg_err_wrongpass:'ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ',
    member_since_fmt:'Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸Ğº Ñ',
    ,
    // Profile
    member_since:'Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸Ğº ZIVO',your_info:'Ğ˜ĞĞ¤ĞĞ ĞœĞĞ¦Ğ˜Ğ¯',your_name:'Ğ¢Ğ’ĞĞ Ğ˜ĞœĞ¯',
    bot_custom_name:'Ğ˜ĞœĞŸĞ›ĞĞĞ¢ Ğ”Ğ›Ğ¯ Ğ‘ĞĞ¢Ğ (ÑƒĞ¼Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼)',
    smart_mode:'Ğ£ĞœĞĞ«Ğ™ Ğ Ğ•Ğ–Ğ˜Ğœ',smart_mode_title:'Ğ£Ğ¼Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼',
    smart_mode_desc:'Ğ‘Ğ¾Ñ‚ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ½Ğ° ÑĞ²Ğ¾Ñ‘ Ğ¸Ğ¼Ñ ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ñ‚Ñ‹ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ». Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ»Ğ°Ñ‚Ğ½Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ.',
    smart_mode_label:'Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ ÑƒĞ¼Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼',smart_mode_sub:'Ğ‘Ğ¾Ñ‚ Ñ€ĞµĞ°Ğ³Ğ¸Ñ€ÑƒĞµÑ‚ Ğ½Ğ° ÑĞ²Ğ¾Ñ‘ Ğ¸Ğ¼Ñ',
    voice_section:'Ğ“ĞĞ›ĞĞ¡ Ğ‘ĞĞ¢Ğ',
    voice_default_desc:'Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ğ»Ğ¾Ñ ZIVO',voice_sage_desc:'ĞœÑƒĞ´Ñ€Ñ‹Ğ¹ Ğ¸ ÑĞ¿Ğ¾ĞºĞ¾Ğ¹Ğ½Ñ‹Ğ¹',
    voice_nova_desc:'Ğ­Ğ½ĞµÑ€Ğ³Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ¸ Ğ¼Ğ¾Ğ»Ğ¾Ğ´Ğ¾Ğ¹',voice_echo_desc:'Ğ“Ğ»ÑƒĞ±Ğ¾ĞºĞ¸Ğ¹ Ğ¸ Ğ¾Ğ±ÑŠÑ‘Ğ¼Ğ½Ñ‹Ğ¹',
    voice_spark_desc:'Ğ’ĞµÑÑ‘Ğ»Ñ‹Ğ¹ Ğ¸ Ğ¸Ğ³Ñ€Ğ¸Ğ²Ñ‹Ğ¹',
    voice_atlas_desc:'ĞœĞ¾Ñ‰Ğ½Ñ‹Ğ¹ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ½Ñ‹Ğ¹',voice_luna_desc:'ĞœÑĞ³ĞºĞ¸Ğ¹ Ğ¸ Ğ»ÑƒĞ½Ğ½Ñ‹Ğ¹',
    voice_titan_desc:'Ğ Ğ¾Ğ±Ğ¾Ñ‚Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¸ Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¹',voice_pixel_desc:'Ğ¦Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ¾Ğ¹ Ğ¸ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹',
    voice_zen_desc:'Ğ¡Ğ¿Ğ¾ĞºĞ¾Ğ¹Ğ½Ñ‹Ğ¹ Ğ¸ Ğ¼ĞµĞ´Ğ¸Ñ‚Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹',
    voice_locked_msg:'ğŸ”’ Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ³Ğ¾Ğ»Ğ¾ÑĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹ Ğ² Pro Ğ²ĞµÑ€ÑĞ¸Ğ¸',
    subscription:'ĞŸĞĞ”ĞŸĞ˜Ğ¡ĞšĞ',manage_sub:'Ğ£ĞŸĞ ĞĞ’Ğ›Ğ•ĞĞ˜Ğ• ĞŸĞĞ”ĞŸĞ˜Ğ¡ĞšĞĞ™',
    // Trial
    trial_active:'ĞŸÑ€Ğ¾Ğ±Ğ½Ñ‹Ğ¹ Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´ Ğ°ĞºÑ‚Ğ¸Ğ²ĞµĞ½!',trial_desc:'Ğ’ÑĞµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾',
    // Sub modal
    choose_plan:'Ğ’Ğ«Ğ‘Ğ•Ğ Ğ˜ ĞŸĞ›ĞĞ',plan_monthly:'ĞœĞµÑÑÑ†',plan_yearly:'Ğ“Ğ¾Ğ´',plan_forever:'ĞĞ°Ğ²ÑĞµĞ³Ğ´Ğ°',
    per_month:'/Ğ¼ĞµÑÑÑ†',per_month_billed:'Ğ² Ğ¼ĞµÑÑÑ† (Ğ³Ğ¾Ğ´)',one_time:'Ğ¾Ğ´Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶',
    save_40:'Ğ¡ĞšĞ˜Ğ”ĞšĞ 40%',whats_included:'Ğ§Ğ¢Ğ Ğ’ĞšĞ›Ğ®Ğ§Ğ•ĞĞ',
    feat_basic:'Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¾Ğ¼',feat_control:'Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹',
    feat_voices:'5 Ğ³Ğ¾Ğ»Ğ¾ÑĞ¾Ğ² Ğ½Ğ° Ğ²Ñ‹Ğ±Ğ¾Ñ€',feat_smart:'Ğ£Ğ¼Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼ + ÑĞ²Ğ¾Ñ‘ Ğ¸Ğ¼Ñ',
    feat_calc:'Ğ£Ğ¼Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ñ Ğ˜Ğ˜',feat_custom_name:'ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ğ¾Ğµ Ğ¸Ğ¼Ñ Ğ±Ğ¾Ñ‚Ğ°',
    subscribe_btn:'ĞŸĞĞ”ĞšĞ›Ğ®Ğ§Ğ˜Ğ¢Ğ¬ PRO',maybe_later:'ĞŸĞ¾Ğ·Ğ¶Ğµ',
    trial_modal_info:'Ğ£ Ñ‚ĞµĞ±Ñ Ğ°ĞºÑ‚Ğ¸Ğ²ĞµĞ½ Ğ¿Ñ€Ğ¾Ğ±Ğ½Ñ‹Ğ¹ Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´ â€” Ğ²ÑĞµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ ÑƒĞ¶Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹!',
    // Calc
    calculator:'ĞšĞĞ›Ğ¬ĞšĞ£Ğ›Ğ¯Ğ¢ĞĞ ',ai_solve:'Ğ ĞµÑˆĞ¸Ñ‚ÑŒ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾Ğµ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ (Ğ˜Ğ˜)',
    calc_locked:'ğŸ”’ Ğ£Ğ¼Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ² Pro. ĞĞ°Ğ¶Ğ¼Ğ¸ Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒ.',
    ai_solving:'Ğ ĞµÑˆĞ°Ñ...',
  },
  en:{
    online:'ONLINE',temp:'TEMP',uptime:'UPTIME',battery:'BATTERY',log:'LOG',
    movement:'MOVEMENT',actions:'ACTIONS',
    wakeup:'WAKE UP',sleep:'SLEEP',charge:'GO CHARGE',random:'DANCE',
    zonemap:'SAFE ZONE MAP',zonewidth:'WIDTH',zonedepth:'DEPTH',
    edgealerts:'EDGE ALERTS',on:'ON',falls:'FALLS',
    language:'LANGUAGE',features:'FEATURES',
    voiceact:'Voice Activation',voiceact_desc:'Wake up with "Hey ZIVO"',
    edgeprot:'Edge Protection',edgeprot_desc:'Stop at table edges',
    autocharge:'Auto Charging',autocharge_desc:'Return to base when low',
    explore:'Random Explore',explore_desc:'ZIVO moves on its own',
    notifs:'Notifications',notifs_desc:'Battery and edge alerts',
    nav_control:'CONTROL',nav_zone:'ZONE',nav_settings:'SETTINGS',
    nav_calc:'CALC',nav_profile:'PROFILE',
    moods:['READY â€¢ LISTENING','EXPLORING','HAPPY','IDLE â€¢ WAITING'],
    log_connected:'Connected to {name}',
    upfmt:(h,m)=>h+'h'+String(m).padStart(2,'0')+'m',
    offline:'DISCONNECTED',not_connected:'ZIVO is not connected',
    not_connected_desc:'Enter your ZIVO serial number',connect_btn:'CONNECT',
    serial_label:'SERIAL NUMBER',serial_wrong:'Wrong serial number.',
    serial_hint:'Serial number is on the sticker on the bottom',
    // Registration
    reg_title:'WELCOME',reg_subtitle:'Create your account to get started',
    reg_name:'YOUR NAME',reg_email:'EMAIL',reg_password:'PASSWORD',
    reg_btn:'CREATE ACCOUNT',reg_login_hint:'Already have an account?',reg_login_link:'SIGN IN',
    login_title:'WELCOME BACK',login_subtitle:'Sign in to your account',
    login_email:'EMAIL',login_password:'PASSWORD',login_btn:'SIGN IN',login_reg_link:'Create new account',
    reg_err_fill:'Please fill all fields',reg_err_email:'Invalid email address',reg_err_pass:'Password must be at least 6 characters',
    reg_err_exists:'Email already registered',reg_err_notfound:'Account not found',reg_err_wrongpass:'Wrong password',
    member_since_fmt:'Member since',
    ,
    member_since:'ZIVO Member',your_info:'YOUR INFO',your_name:'YOUR NAME',
    bot_custom_name:'BOT NAME (smart mode)',
    smart_mode:'SMART MODE',smart_mode_title:'Smart Mode',
    smart_mode_desc:'Your bot responds to a custom name you choose. Pro only.',
    smart_mode_label:'Enable Smart Mode',smart_mode_sub:'Bot responds to its name',
    voice_section:'BOT VOICE',
    voice_default_desc:'Default ZIVO voice',voice_sage_desc:'Wise and calm',
    voice_nova_desc:'Energetic and young',voice_echo_desc:'Deep and rich',
    voice_spark_desc:'Fun and playful',
    voice_atlas_desc:'Powerful and authoritative',voice_luna_desc:'Soft and dreamy',
    voice_titan_desc:'Robotic and precise',voice_pixel_desc:'Digital and techy',
    voice_zen_desc:'Calm and meditative',
    voice_locked_msg:'ğŸ”’ Extra voices available in Pro',
    subscription:'SUBSCRIPTION',manage_sub:'MANAGE SUBSCRIPTION',
    trial_active:'Free trial is active!',trial_desc:'All features unlocked',
    choose_plan:'CHOOSE YOUR PLAN',plan_monthly:'Monthly',plan_yearly:'Yearly',plan_forever:'Forever',
    per_month:'/month',per_month_billed:'/mo billed yearly',one_time:'one-time payment',
    save_40:'SAVE 40%',whats_included:'WHAT\'S INCLUDED',
    feat_basic:'Robot control',feat_control:'Basic commands',
    feat_voices:'5 voices to choose',feat_smart:'Smart mode + custom name',
    feat_calc:'Smart AI calculator',feat_custom_name:'Custom bot name',
    subscribe_btn:'GET PRO',maybe_later:'Maybe later',
    trial_modal_info:'Your free trial is active â€” all features are unlocked!',
    calculator:'CALCULATOR',ai_solve:'Solve complex equation (AI)',
    calc_locked:'ğŸ”’ Smart calculator available in Pro. Tap to unlock.',
    ai_solving:'Solving...',
  },
  he:{
    online:'××—×•×‘×¨',temp:'×˜××¤',uptime:'×–××Ÿ',battery:'×¡×•×œ×œ×”',log:'×™×•××Ÿ',
    movement:'×ª× ×•×¢×”',actions:'×¤×¢×•×œ×•×ª',wakeup:'×”×ª×¢×•×¨×¨',sleep:'×©×™× ×”',charge:'×œ×˜×¢×™× ×”',random:'×œ×¨×§×•×“',
    zonemap:'××¤×ª ××–×•×¨',zonewidth:'×¨×•×—×‘',zonedepth:'×¢×•××§',edgealerts:'×”×’× ×ª ×§×¦×”',on:'×¤×•×¢×œ',falls:'× ×¤×™×œ×•×ª',
    language:'×©×¤×”',features:'×ª×›×•× ×•×ª',voiceact:'×”×¤×¢×œ×” ×§×•×œ×™×ª',voiceact_desc:'×”×¤×¢×œ×” ×¢× "×”×™×™ ZIVO"',
    edgeprot:'×”×’× ×” ×× ×¤×™×œ×”',edgeprot_desc:'×¢×¦×•×¨ ×‘×§×¦×” ×”×©×•×œ×—×Ÿ',
    autocharge:'×˜×¢×™× ×” ××•×˜×•××˜×™×ª',autocharge_desc:'×—×–×•×¨ ×œ×‘×¡×™×¡ ×›×©×”×¡×•×œ×œ×” × ××•×›×”',
    explore:'×¡×™×•×¨ ××§×¨××™',explore_desc:'ZIVO × ×•×¡×¢ ×œ×‘×“',notifs:'×”×ª×¨××•×ª',notifs_desc:'×¡×•×œ×œ×” ×•×”×’× ×ª ×§×¦×”',
    nav_control:'×©×œ×™×˜×”',nav_zone:'××–×•×¨',nav_settings:'×”×’×“×¨×•×ª',nav_calc:'××—×©×‘×•×Ÿ',nav_profile:'×¤×¨×•×¤×™×œ',
    moods:['××•×›×Ÿ â€¢ ××§×©×™×‘','×—×•×§×¨','×©××—','×××ª×™×Ÿ'],log_connected:'××—×•×‘×¨ ×œ-{name}',
    upfmt:(h,m)=>h+'×©'+String(m).padStart(2,'0')+'×“',
    offline:'×× ×•×ª×§',not_connected:'ZIVO ×œ× ××—×•×‘×¨',not_connected_desc:'×”×–×Ÿ ××ª ×”××¡×¤×¨ ×”×¡×™×“×•×¨×™',connect_btn:'×”×ª×—×‘×¨',
    serial_label:'××¡×¤×¨ ×¡×™×“×•×¨×™',serial_wrong:'××¡×¤×¨ ×¡×™×“×•×¨×™ ×©×’×•×™.',serial_hint:'×”××¡×¤×¨ ×”×¡×™×“×•×¨×™ × ××¦× ×‘×ª×—×ª×™×ª ZIVO',
    // Registration
    reg_title:'×‘×¨×•×š ×”×‘×',reg_subtitle:'×¦×•×¨ ×—×©×‘×•×Ÿ ×›×“×™ ×œ×”×ª×—×™×œ',
    reg_name:'×©××š',reg_email:'××™××™×™×œ',reg_password:'×¡×™×¡××”',
    reg_btn:'×¦×•×¨ ×—×©×‘×•×Ÿ',reg_login_hint:'×›×‘×¨ ×™×© ×œ×š ×—×©×‘×•×Ÿ?',reg_login_link:'×”×ª×—×‘×¨',
    login_title:'×‘×¨×•×š ×©×•×‘×š',login_subtitle:'×”×ª×—×‘×¨ ×œ×—×©×‘×•× ×š',
    login_email:'××™××™×™×œ',login_password:'×¡×™×¡××”',login_btn:'×”×ª×—×‘×¨',login_reg_link:'×¦×•×¨ ×—×©×‘×•×Ÿ ×—×“×©',
    reg_err_fill:'××œ× ××ª ×›×œ ×”×©×“×•×ª',reg_err_email:'×›×ª×•×‘×ª ××™××™×™×œ ×œ× ×ª×§×™× ×”',reg_err_pass:'×”×¡×™×¡××” ×—×™×™×‘×ª ×œ×”×›×™×œ ×œ×¤×—×•×ª 6 ×ª×•×•×™×',
    reg_err_exists:'×”××™××™×™×œ ×›×‘×¨ ×¨×©×•×',reg_err_notfound:'×”×—×©×‘×•×Ÿ ×œ× × ××¦×',reg_err_wrongpass:'×¡×™×¡××” ×©×’×•×™×”',
    member_since_fmt:'×—×‘×¨ ×××–',
    ,
    member_since:'×—×‘×¨ ZIVO',your_info:'×¤×¨×˜×™×',your_name:'×©××š',bot_custom_name:'×©× ×”×‘×•×˜ (××¦×‘ ×—×›×)',
    smart_mode:'××¦×‘ ×—×›×',smart_mode_title:'××¦×‘ ×—×›×',smart_mode_desc:'×”×‘×•×˜ ××’×™×‘ ×œ×©× ×©×‘×—×¨×ª. Pro ×‘×œ×‘×“.',
    smart_mode_label:'×”×¤×¢×œ ××¦×‘ ×—×›×',smart_mode_sub:'×”×‘×•×˜ ××’×™×‘ ×œ×©××•',
    voice_section:'×§×•×œ ×”×‘×•×˜',voice_default_desc:'×§×•×œ ZIVO ×‘×¨×™×¨×ª ××—×“×œ',voice_sage_desc:'×—×›× ×•×¨×’×•×¢',
    voice_nova_desc:'×× ×¨×’×˜×™ ×•×¦×¢×™×¨',voice_echo_desc:'×¢××•×§ ×•×¢×©×™×¨',voice_spark_desc:'×›×™×¤×™ ×•×©×•×‘×‘×™',
    voice_atlas_desc:'×—×–×§ ×•×¡××›×•×ª×™',voice_luna_desc:'×¨×š ×•×—×œ×•××™',
    voice_titan_desc:'×¨×•×‘×•×˜×™ ×•××“×•×™×§',voice_pixel_desc:'×“×™×’×™×˜×œ×™ ×•×˜×›× ×•×œ×•×’×™',
    voice_zen_desc:'×¨×’×•×¢ ×•××“×™×˜×˜×™×‘×™',
    voice_locked_msg:'ğŸ”’ ×§×•×œ×•×ª × ×•×¡×¤×™× ×–××™× ×™× ×‘-Pro',subscription:'×× ×•×™',manage_sub:'× ×™×”×•×œ ×× ×•×™',
    trial_active:'×ª×§×•×¤×ª × ×™×¡×™×•×Ÿ ×¤×¢×™×œ×”!',trial_desc:'×›×œ ×”×¤×•× ×§×¦×™×•×ª ×¤×ª×•×—×•×ª',
    choose_plan:'×‘×—×¨ ×ª×•×›× ×™×ª',plan_monthly:'×—×•×“×©×™',plan_yearly:'×©× ×ª×™',plan_forever:'×œ×¦××™×ª×•×ª',
    per_month:'/×—×•×“×©',per_month_billed:'/×—×•×“×© (×©× ×ª×™)',one_time:'×ª×©×œ×•× ×—×“ ×¤×¢××™',
    save_40:'×—×¡×•×š 40%',whats_included:'××” ×›×œ×•×œ',feat_basic:'×©×œ×™×˜×” ×‘×‘×•×˜',feat_control:'×¤×§×•×“×•×ª ×‘×¡×™×¡×™×•×ª',
    feat_voices:'5 ×§×•×œ×•×ª ×œ×‘×—×™×¨×”',feat_smart:'××¦×‘ ×—×›× + ×©× ××•×ª××',feat_calc:'××—×©×‘×•×Ÿ AI ×—×›×',feat_custom_name:'×©× ×‘×•×˜ ××•×ª××',
    subscribe_btn:'×”×¦×˜×¨×£ ×œ-Pro',maybe_later:'××•×œ×™ ×××•×—×¨ ×™×•×ª×¨',
    trial_modal_info:'×ª×§×•×¤×ª ×”× ×™×¡×™×•×Ÿ ×©×œ×š ×¤×¢×™×œ×” â€” ×›×œ ×”×¤×•× ×§×¦×™×•×ª ×¤×ª×•×—×•×ª!',
    calculator:'××—×©×‘×•×Ÿ',ai_solve:'×¤×ª×•×¨ ××©×•×•××” ××•×¨×›×‘×ª (AI)',
    calc_locked:'ğŸ”’ ××—×©×‘×•×Ÿ ×—×›× ×–××™×Ÿ ×‘-Pro. ×œ×—×¥ ×œ×¤×ª×™×—×”.',ai_solving:'×¤×•×ª×¨...',
  },
  zh:{
    online:'åœ¨çº¿',temp:'æ¸©åº¦',uptime:'è¿è¡Œ',battery:'ç”µæ± ',log:'æ—¥å¿—',
    movement:'ç§»åŠ¨',actions:'æ“ä½œ',wakeup:'å”¤é†’',sleep:'ç¡çœ ',charge:'å»å……ç”µ',random:'è·³èˆ',
    zonemap:'å®‰å…¨åŒºåŸŸ',zonewidth:'å®½åº¦',zonedepth:'æ·±åº¦',edgealerts:'è¾¹ç¼˜ä¿æŠ¤',on:'å¼€å¯',falls:'è·Œè½',
    language:'è¯­è¨€',features:'åŠŸèƒ½',voiceact:'è¯­éŸ³æ¿€æ´»',voiceact_desc:'è¯´"å˜¿ ZIVO"å”¤é†’',
    edgeprot:'é˜²è·Œè½',edgeprot_desc:'åœ¨æ¡Œå­è¾¹ç¼˜åœä¸‹',autocharge:'è‡ªåŠ¨å……ç”µ',autocharge_desc:'ç”µé‡ä½æ—¶è¿”å›å……ç”µ',
    explore:'éšæœºæ¢ç´¢',explore_desc:'ZIVO è‡ªä¸»ç§»åŠ¨',notifs:'é€šçŸ¥',notifs_desc:'ç”µæ± å’Œè¾¹ç¼˜è­¦æŠ¥',
    nav_control:'æ§åˆ¶',nav_zone:'åŒºåŸŸ',nav_settings:'è®¾ç½®',nav_calc:'è®¡ç®—å™¨',nav_profile:'ä¸ªäºº',
    moods:['å‡†å¤‡å¥½äº†','æ¢ç´¢ä¸­','å¼€å¿ƒ','ç­‰å¾…å‘½ä»¤'],log_connected:'å·²è¿æ¥åˆ° {name}',
    upfmt:(h,m)=>h+'æ—¶'+String(m).padStart(2,'0')+'åˆ†',
    offline:'æœªè¿æ¥',not_connected:'ZIVO æœªè¿æ¥',not_connected_desc:'è¾“å…¥åºåˆ—å·',connect_btn:'è¿æ¥',
    serial_label:'åºåˆ—å·',serial_wrong:'åºåˆ—å·é”™è¯¯ã€‚',serial_hint:'åºåˆ—å·åœ¨ ZIVO åº•éƒ¨çš„è´´çº¸ä¸Š',
    // Registration
    reg_title:'æ¬¢è¿',reg_subtitle:'åˆ›å»ºè´¦æˆ·å¼€å§‹ä½¿ç”¨',
    reg_name:'ä½ çš„åå­—',reg_email:'é‚®ç®±',reg_password:'å¯†ç ',
    reg_btn:'åˆ›å»ºè´¦æˆ·',reg_login_hint:'å·²æœ‰è´¦æˆ·ï¼Ÿ',reg_login_link:'ç™»å½•',
    login_title:'æ¬¢è¿å›æ¥',login_subtitle:'ç™»å½•ä½ çš„è´¦æˆ·',
    login_email:'é‚®ç®±',login_password:'å¯†ç ',login_btn:'ç™»å½•',login_reg_link:'åˆ›å»ºæ–°è´¦æˆ·',
    reg_err_fill:'è¯·å¡«å†™æ‰€æœ‰å­—æ®µ',reg_err_email:'æ— æ•ˆçš„é‚®ç®±åœ°å€',reg_err_pass:'å¯†ç è‡³å°‘éœ€è¦6ä¸ªå­—ç¬¦',
    reg_err_exists:'é‚®ç®±å·²æ³¨å†Œ',reg_err_notfound:'è´¦æˆ·æœªæ‰¾åˆ°',reg_err_wrongpass:'å¯†ç é”™è¯¯',
    member_since_fmt:'åŠ å…¥æ—¶é—´',
    ,
    member_since:'ZIVO ä¼šå‘˜',your_info:'ä¸ªäººä¿¡æ¯',your_name:'ä½ çš„åå­—',bot_custom_name:'æœºå™¨äººåç§°ï¼ˆæ™ºèƒ½æ¨¡å¼ï¼‰',
    smart_mode:'æ™ºèƒ½æ¨¡å¼',smart_mode_title:'æ™ºèƒ½æ¨¡å¼',smart_mode_desc:'æœºå™¨äººå“åº”ä½ é€‰æ‹©çš„åå­—ã€‚ä»…é™Proã€‚',
    smart_mode_label:'å¯ç”¨æ™ºèƒ½æ¨¡å¼',smart_mode_sub:'æœºå™¨äººå“åº”å…¶åå­—',
    voice_section:'æœºå™¨äººå£°éŸ³',voice_default_desc:'é»˜è®¤ZIVOå£°éŸ³',voice_sage_desc:'ç¿æ™ºå¹³é™',
    voice_nova_desc:'å……æ»¡æ´»åŠ›',voice_echo_desc:'æ·±æ²‰ä¸°å¯Œ',voice_spark_desc:'æœ‰è¶£æ´»æ³¼',
    voice_atlas_desc:'å¼ºå¤§æƒå¨',voice_luna_desc:'æŸ”å’Œæ¢¦å¹»',
    voice_titan_desc:'æœºå™¨äººç²¾å‡†',voice_pixel_desc:'æ•°å­—ç§‘æŠ€',
    voice_zen_desc:'å¹³é™å†¥æƒ³',
    voice_locked_msg:'ğŸ”’ æ›´å¤šå£°éŸ³åœ¨Proç‰ˆæœ¬ä¸­å¯ç”¨',subscription:'è®¢é˜…',manage_sub:'ç®¡ç†è®¢é˜…',
    trial_active:'è¯•ç”¨æœŸæ¿€æ´»ï¼',trial_desc:'æ‰€æœ‰åŠŸèƒ½å…è´¹',
    choose_plan:'é€‰æ‹©æ–¹æ¡ˆ',plan_monthly:'æœˆåº¦',plan_yearly:'å¹´åº¦',plan_forever:'æ°¸ä¹…',
    per_month:'/æœˆ',per_month_billed:'/æœˆï¼ˆå¹´ä»˜ï¼‰',one_time:'ä¸€æ¬¡æ€§ä»˜æ¬¾',
    save_40:'èŠ‚çœ40%',whats_included:'åŒ…å«å†…å®¹',feat_basic:'æœºå™¨äººæ§åˆ¶',feat_control:'åŸºæœ¬å‘½ä»¤',
    feat_voices:'5ç§å£°éŸ³å¯é€‰',feat_smart:'æ™ºèƒ½æ¨¡å¼+è‡ªå®šä¹‰åç§°',feat_calc:'AIæ™ºèƒ½è®¡ç®—å™¨',feat_custom_name:'è‡ªå®šä¹‰æœºå™¨äººåç§°',
    subscribe_btn:'è·å–Pro',maybe_later:'ç¨å',
    trial_modal_info:'æ‚¨çš„è¯•ç”¨æœŸå·²æ¿€æ´» â€” æ‰€æœ‰åŠŸèƒ½å·²è§£é”ï¼',
    calculator:'è®¡ç®—å™¨',ai_solve:'è§£å¤æ‚æ–¹ç¨‹ï¼ˆAIï¼‰',
    calc_locked:'ğŸ”’ æ™ºèƒ½è®¡ç®—å™¨åœ¨Proç‰ˆæœ¬ä¸­å¯ç”¨ã€‚ç‚¹å‡»è§£é”ã€‚',ai_solving:'è§£ç®—ä¸­...',
  },
  uk:{
    online:'Ğ’ ĞœĞ•Ğ Ğ•Ğ–Ğ†',temp:'Ğ¢Ğ•ĞœĞŸ',uptime:'Ğ§ĞĞ¡',battery:'Ğ‘ĞĞ¢ĞĞ Ğ•Ğ¯',log:'Ğ–Ğ£Ğ ĞĞĞ›',
    movement:'Ğ Ğ£Ğ¥',actions:'Ğ”Ğ†Ğ‡',wakeup:'Ğ ĞĞ—Ğ‘Ğ£Ğ”Ğ˜Ğ¢Ğ˜',sleep:'Ğ¡ĞŸĞĞ¢Ğ˜',charge:'ĞĞ Ğ—ĞĞ Ğ¯Ğ”ĞšĞ£',random:'Ğ¢ĞĞĞ•Ğ¦Ğ¬',
    zonemap:'ĞšĞĞ Ğ¢Ğ Ğ—ĞĞĞ˜',zonewidth:'Ğ¨Ğ˜Ğ Ğ˜ĞĞ',zonedepth:'Ğ“Ğ›Ğ˜Ğ‘Ğ˜ĞĞ',edgealerts:'Ğ—ĞĞ¥Ğ˜Ğ¡Ğ¢ ĞšĞ ĞĞ®',on:'Ğ£Ğ’Ğ†ĞœĞšĞ',falls:'ĞŸĞĞ”Ğ†ĞĞ¬',
    language:'ĞœĞĞ’Ğ',features:'Ğ¤Ğ£ĞĞšĞ¦Ğ†Ğ‡',voiceact:'Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ° Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ñ–Ñ',voiceact_desc:'ĞĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ñ–Ñ "ĞŸÑ€Ğ¸Ğ²Ñ–Ñ‚ ZIVO"',
    edgeprot:'Ğ—Ğ°Ñ…Ğ¸ÑÑ‚ Ğ²Ñ–Ğ´ Ğ¿Ğ°Ğ´Ñ–Ğ½Ğ½Ñ',edgeprot_desc:'Ğ—ÑƒĞ¿Ğ¸Ğ½ÑÑ‚Ğ¸ÑÑŒ Ğ±Ñ–Ğ»Ñ ĞºÑ€Ğ°Ñ ÑÑ‚Ğ¾Ğ»Ñƒ',
    autocharge:'ĞĞ²Ñ‚Ğ¾ Ğ·Ğ°Ñ€ÑĞ´ĞºĞ°',autocharge_desc:'Ğ‡Ñ…Ğ°Ñ‚Ğ¸ Ğ½Ğ° Ğ±Ğ°Ğ·Ñƒ Ğ¿Ñ€Ğ¸ Ğ½Ğ¸Ğ·ÑŒĞºĞ¾Ğ¼Ñƒ Ğ·Ğ°Ñ€ÑĞ´Ñ–',
    explore:'Ğ’Ğ¸Ğ¿Ğ°Ğ´ĞºĞ¾Ğ²Ñ– Ğ¿Ñ€Ğ¾Ğ³ÑƒĞ»ÑĞ½ĞºĞ¸',explore_desc:'ZIVO Ñ—Ğ·Ğ´Ğ¸Ñ‚ÑŒ ÑĞ°Ğ¼Ğ¾ÑÑ‚Ñ–Ğ¹Ğ½Ğ¾',
    notifs:'Ğ¡Ğ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½Ğ½Ñ',notifs_desc:'Ğ—Ğ°Ñ€ÑĞ´ Ñ– Ğ·Ğ°Ñ…Ğ¸ÑÑ‚ ĞºÑ€Ğ°Ñ',
    nav_control:'ĞšĞ•Ğ Ğ£Ğ’ĞĞĞĞ¯',nav_zone:'Ğ—ĞĞĞ',nav_settings:'ĞĞĞ›ĞĞ¨Ğ¢Ğ£Ğ’ĞĞĞĞ¯',nav_calc:'ĞšĞĞ›Ğ¬ĞšĞ£Ğ›Ğ¯Ğ¢ĞĞ ',nav_profile:'ĞŸĞ ĞĞ¤Ğ†Ğ›Ğ¬',
    moods:['Ğ“ĞĞ¢ĞĞ’Ğ˜Ğ™ â€¢ Ğ¡Ğ›Ğ£Ğ¥ĞĞ®','Ğ”ĞĞ¡Ğ›Ğ†Ğ”Ğ–Ğ£Ğ®','Ğ©ĞĞ¡Ğ›Ğ˜Ğ’Ğ˜Ğ™','Ğ§Ğ•ĞšĞĞ®'],log_connected:'ĞŸÑ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾ Ğ´Ğ¾ {name}',
    upfmt:(h,m)=>h+'Ğ³'+String(m).padStart(2,'0')+'Ñ…Ğ²',
    offline:'ĞĞ• ĞŸĞ†Ğ”ĞšĞ›Ğ®Ğ§Ğ•ĞĞ',not_connected:'ZIVO Ğ½Ğµ Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾',not_connected_desc:'Ğ’Ğ²ĞµĞ´Ğ¸ ÑĞµÑ€Ñ–Ğ¹Ğ½Ğ¸Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€',connect_btn:'ĞŸĞ†Ğ”ĞšĞ›Ğ®Ğ§Ğ˜Ğ¢Ğ˜',
    serial_label:'Ğ¡Ğ•Ğ Ğ†Ğ™ĞĞ˜Ğ™ ĞĞĞœĞ•Ğ ',serial_wrong:'ĞĞµĞ²Ñ–Ñ€Ğ½Ğ¸Ğ¹ ÑĞµÑ€Ñ–Ğ¹Ğ½Ğ¸Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€.',serial_hint:'Ğ¡ĞµÑ€Ñ–Ğ¹Ğ½Ğ¸Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€ Ğ½Ğ° Ğ½Ğ°ĞºĞ»ĞµĞ¹Ñ†Ñ– Ğ½Ğ° Ğ´Ğ½Ñ– ĞºĞ¾Ñ€Ğ¿ÑƒÑÑƒ',
    // Registration
    reg_title:'Ğ›ĞĞ¡ĞšĞĞ’Ğ ĞŸĞ ĞĞ¡Ğ˜ĞœĞ',reg_subtitle:'Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸ Ğ°ĞºĞ°ÑƒĞ½Ñ‚ Ñ‰Ğ¾Ğ± Ğ¿Ğ¾Ñ‡Ğ°Ñ‚Ğ¸',
    reg_name:"Ğ¢Ğ’ĞĞ„ Ğ†Ğœ'Ğ¯",reg_email:'EMAIL',reg_password:'ĞŸĞĞ ĞĞ›Ğ¬',
    reg_btn:'Ğ¡Ğ¢Ğ’ĞĞ Ğ˜Ğ¢Ğ˜ ĞĞšĞĞ£ĞĞ¢',reg_login_hint:'Ğ’Ğ¶Ğµ Ñ” Ğ°ĞºĞ°ÑƒĞ½Ñ‚?',reg_login_link:'Ğ£Ğ’Ğ†Ğ™Ğ¢Ğ˜',
    login_title:'Ğ— ĞŸĞĞ’Ğ•Ğ ĞĞ•ĞĞĞ¯Ğœ',login_subtitle:'Ğ£Ğ²Ñ–Ğ¹Ğ´Ğ¸ Ğ´Ğ¾ ÑĞ²Ğ¾Ğ³Ğ¾ Ğ°ĞºĞ°ÑƒĞ½Ñ‚Ñƒ',
    login_email:'EMAIL',login_password:'ĞŸĞĞ ĞĞ›Ğ¬',login_btn:'Ğ£Ğ’Ğ†Ğ™Ğ¢Ğ˜',login_reg_link:'Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ½Ğ¾Ğ²Ğ¸Ğ¹ Ğ°ĞºĞ°ÑƒĞ½Ñ‚',
    reg_err_fill:'Ğ—Ğ°Ğ¿Ğ¾Ğ²Ğ½Ğ¸ Ğ²ÑÑ– Ğ¿Ğ¾Ğ»Ñ',reg_err_email:'ĞĞµĞ²Ñ–Ñ€Ğ½Ğ¸Ğ¹ email',reg_err_pass:'ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ Ğ¼Ñ–Ğ½Ñ–Ğ¼ÑƒĞ¼ 6 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ñ–Ğ²',
    reg_err_exists:'Email Ğ²Ğ¶Ğµ Ğ·Ğ°Ñ€ĞµÑ”ÑÑ‚Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾',reg_err_notfound:'ĞĞºĞ°ÑƒĞ½Ñ‚ Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾',reg_err_wrongpass:'ĞĞµĞ²Ñ–Ñ€Ğ½Ğ¸Ğ¹ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ',
    member_since_fmt:'Ğ£Ñ‡Ğ°ÑĞ½Ğ¸Ğº Ğ·',
    ,
    member_since:'Ğ£Ñ‡Ğ°ÑĞ½Ğ¸Ğº ZIVO',your_info:'Ğ†ĞĞ¤ĞĞ ĞœĞĞ¦Ğ†Ğ¯',your_name:'Ğ¢Ğ’ĞĞ„ Ğ†Ğœ\'Ğ¯',bot_custom_name:'Ğ†Ğœ\'Ğ¯ Ğ‘ĞĞ¢Ğ (Ñ€Ğ¾Ğ·ÑƒĞ¼Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼)',
    smart_mode:'Ğ ĞĞ—Ğ£ĞœĞĞ˜Ğ™ Ğ Ğ•Ğ–Ğ˜Ğœ',smart_mode_title:'Ğ Ğ¾Ğ·ÑƒĞ¼Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼',smart_mode_desc:'Ğ‘Ğ¾Ñ‚ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ñ” Ğ½Ğ° ÑĞ²Ğ¾Ñ” Ñ–Ğ¼\'Ñ ÑĞºĞµ Ñ‚Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ². Ğ¢Ñ–Ğ»ÑŒĞºĞ¸ Ğ¿Ğ»Ğ°Ñ‚Ğ½Ğ° Ğ²ĞµÑ€ÑÑ–Ñ.',
    smart_mode_label:'Ğ£Ğ²Ñ–Ğ¼ĞºĞ½ÑƒÑ‚Ğ¸ Ñ€Ğ¾Ğ·ÑƒĞ¼Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼',smart_mode_sub:'Ğ‘Ğ¾Ñ‚ Ñ€ĞµĞ°Ğ³ÑƒÑ” Ğ½Ğ° ÑĞ²Ğ¾Ñ” Ñ–Ğ¼\'Ñ',
    voice_section:'Ğ“ĞĞ›ĞĞ¡ Ğ‘ĞĞ¢Ğ',voice_default_desc:'Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¸Ğ¹ Ğ³Ğ¾Ğ»Ğ¾Ñ ZIVO',voice_sage_desc:'ĞœÑƒĞ´Ñ€Ğ¸Ğ¹ Ñ– ÑĞ¿Ğ¾ĞºÑ–Ğ¹Ğ½Ğ¸Ğ¹',
    voice_nova_desc:'Ğ•Ğ½ĞµÑ€Ğ³Ñ–Ğ¹Ğ½Ğ¸Ğ¹ Ñ– Ğ¼Ğ¾Ğ»Ğ¾Ğ´Ğ¸Ğ¹',voice_echo_desc:'Ğ“Ğ»Ğ¸Ğ±Ğ¾ĞºĞ¸Ğ¹ Ñ– Ğ¾Ğ±\'Ñ”Ğ¼Ğ½Ğ¸Ğ¹',voice_spark_desc:'Ğ’ĞµÑĞµĞ»Ğ¸Ğ¹ Ñ– Ğ³Ñ€Ğ°Ğ¹Ğ»Ğ¸Ğ²Ğ¸Ğ¹',
    voice_atlas_desc:'ĞŸĞ¾Ñ‚ÑƒĞ¶Ğ½Ğ¸Ğ¹ Ñ– Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ½Ğ¸Ğ¹',voice_luna_desc:'Ğœ'ÑĞºĞ¸Ğ¹ Ñ– Ğ¼Ñ€Ñ–Ğ¹Ğ»Ğ¸Ğ²Ğ¸Ğ¹',
    voice_titan_desc:'Ğ Ğ¾Ğ±Ğ¾Ñ‚Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ñ– Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ğ¹',voice_pixel_desc:'Ğ¦Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ¸Ğ¹ Ñ– Ñ‚ĞµÑ…Ğ½Ñ–Ñ‡Ğ½Ğ¸Ğ¹',
    voice_zen_desc:'Ğ¡Ğ¿Ğ¾ĞºÑ–Ğ¹Ğ½Ğ¸Ğ¹ Ñ– Ğ¼ĞµĞ´Ğ¸Ñ‚Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹',
    voice_locked_msg:'ğŸ”’ Ğ”Ğ¾Ğ´Ğ°Ñ‚ĞºĞ¾Ğ²Ñ– Ğ³Ğ¾Ğ»Ğ¾ÑĞ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ– Ğ² Pro Ğ²ĞµÑ€ÑÑ–Ñ—',subscription:'ĞŸĞ†Ğ”ĞŸĞ˜Ğ¡ĞšĞ',manage_sub:'ĞšĞ•Ğ Ğ£Ğ’ĞĞĞĞ¯ ĞŸĞ†Ğ”ĞŸĞ˜Ğ¡ĞšĞĞ®',
    trial_active:'ĞŸÑ€Ğ¾Ğ±Ğ½Ğ¸Ğ¹ Ğ¿ĞµÑ€Ñ–Ğ¾Ğ´ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹!',trial_desc:'Ğ’ÑÑ– Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ— Ğ±ĞµĞ·ĞºĞ¾ÑˆÑ‚Ğ¾Ğ²Ğ½Ğ¾',
    choose_plan:'ĞĞ‘Ğ•Ğ Ğ˜ ĞŸĞ›ĞĞ',plan_monthly:'ĞœÑ–ÑÑÑ†ÑŒ',plan_yearly:'Ğ Ñ–Ğº',plan_forever:'ĞĞ°Ğ·Ğ°Ğ²Ğ¶Ğ´Ğ¸',
    per_month:'/Ğ¼Ñ–ÑÑÑ†ÑŒ',per_month_billed:'Ğ½Ğ° Ğ¼Ñ–ÑÑÑ†ÑŒ (Ñ€Ñ–Ğº)',one_time:'Ğ¾Ğ´Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ğ»Ğ°Ñ‚Ñ–Ğ¶',
    save_40:'Ğ—ĞĞ˜Ğ–ĞšĞ 40%',whats_included:'Ğ©Ğ Ğ’ĞšĞ›Ğ®Ğ§Ğ•ĞĞ',feat_basic:'ĞšĞµÑ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¾Ğ¼',feat_control:'Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ– ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸',
    feat_voices:'5 Ğ³Ğ¾Ğ»Ğ¾ÑÑ–Ğ² Ğ½Ğ° Ğ²Ğ¸Ğ±Ñ–Ñ€',feat_smart:'Ğ Ğ¾Ğ·ÑƒĞ¼Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼ + ÑĞ²Ğ¾Ñ” Ñ–Ğ¼\'Ñ',feat_calc:'Ğ Ğ¾Ğ·ÑƒĞ¼Ğ½Ğ¸Ğ¹ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ· Ğ†Ğ†',feat_custom_name:'ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ğµ Ñ–Ğ¼\'Ñ Ğ±Ğ¾Ñ‚Ğ°',
    subscribe_btn:'ĞĞ¢Ğ Ğ˜ĞœĞĞ¢Ğ˜ PRO',maybe_later:'ĞŸÑ–Ğ·Ğ½Ñ–ÑˆĞµ',
    trial_modal_info:'Ğ£ Ñ‚ĞµĞ±Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ±Ğ½Ğ¸Ğ¹ Ğ¿ĞµÑ€Ñ–Ğ¾Ğ´ â€” Ğ²ÑÑ– Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ— Ğ²Ğ¶Ğµ Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ñ–!',
    calculator:'ĞšĞĞ›Ğ¬ĞšĞ£Ğ›Ğ¯Ğ¢ĞĞ ',ai_solve:'Ğ’Ğ¸Ñ€Ñ–ÑˆĞ¸Ñ‚Ğ¸ ÑĞºĞ»Ğ°Ğ´Ğ½Ğµ Ñ€Ñ–Ğ²Ğ½ÑĞ½Ğ½Ñ (Ğ†Ğ†)',
    calc_locked:'ğŸ”’ Ğ Ğ¾Ğ·ÑƒĞ¼Ğ½Ğ¸Ğ¹ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ Ñƒ Pro. ĞĞ°Ñ‚Ğ¸ÑĞ½Ğ¸ Ñ‰Ğ¾Ğ± Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸.',ai_solving:'Ğ’Ğ¸Ñ€Ñ–ÑˆÑƒÑ...',
  }
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let lang='en', moodIdx=0, connected=false, currentRobot=null, currentSerial=null;
let selectedPlan='yearly';

// Load user data from localStorage
const USER = JSON.parse(localStorage.getItem('zivo_user') || '{}');
// USER = { name, botName, voice, smartMode, sub, subStart, firstConnected }

function saveUser(){
  localStorage.setItem('zivo_user', JSON.stringify(USER));
  // Sync to Firestore if logged in
  if(USER.uid){
    const {uid,...data}=USER;
    updateDoc(doc(db,'users',USER.uid), data).catch(()=>{});
  }
}

function isPro(){
  if(USER.sub === 'forever') return true;
  if(USER.sub === 'monthly' || USER.sub === 'yearly'){
    // Demo: always active if subscribed
    return true;
  }
  return false;
}

function isTrialActive(){
  if(!USER.firstConnected) return false;
  const days = (Date.now() - USER.firstConnected) / (1000*60*60*24);
  return days < 7;
}

function hasProAccess(){
  return isPro() || isTrialActive();
}

function trialDaysLeft(){
  if(!USER.firstConnected) return 0;
  const days = (Date.now() - USER.firstConnected) / (1000*60*60*24);
  return Math.max(0, Math.ceil(7 - days));
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONNECTION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function setConnected(val){
  connected=val;
  const dot=document.getElementById('status-dot');
  const txt=document.getElementById('status-text');
  const face=document.getElementById('zivo-face');
  if(val){
    dot.style.cssText='width:9px;height:9px;border-radius:50%;background:var(--success);box-shadow:0 0 8px var(--success);animation:pulse 2s infinite';
    txt.style.color='var(--success)'; txt.textContent=T[lang].online;
    document.getElementById('offline-banner').style.display='none';
    document.getElementById('pages-wrapper').style.display='block';
    document.getElementById('page-home').style.display='block';
    document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));
    document.querySelector('.nav-item').classList.add('active');
    face.style.borderColor='var(--blue)';
    face.style.boxShadow='0 0 28px var(--blue-glow),inset 0 0 28px rgba(0,180,255,0.05)';
    // Record first connection
    if(!USER.firstConnected){ USER.firstConnected=Date.now(); saveUser(); }
    updateTrialBanner();
  } else {
    dot.style.cssText='width:9px;height:9px;border-radius:50%;background:var(--gray);box-shadow:none;animation:none';
    txt.style.color='var(--gray)'; txt.textContent=T[lang].offline;
    document.getElementById('offline-banner').style.display='block';
    document.getElementById('pages-wrapper').style.display='none';
    document.getElementById('page-settings').style.display='none';
    document.getElementById('page-profile').style.display='none';
    document.getElementById('page-calc').style.display='none';
    face.style.borderColor='var(--gray)'; face.style.boxShadow='none';
  }
}

function tryConnect(){
  const input=document.getElementById('serial-input').value.trim().toUpperCase();
  const err=document.getElementById('serial-error');
  const btn=document.getElementById('connect-btn');
  if(!input){err.style.display='block';return;}
  btn.textContent='...'; btn.style.opacity='0.6'; err.style.display='none';
  setTimeout(()=>{
    if(input in REGISTERED_ROBOTS){
      currentRobot=REGISTERED_ROBOTS[input]; currentSerial=input;
      localStorage.setItem('zivo_last_serial',input);
      setConnected(true);
      addLog('ok',T[lang].log_connected.replace('{name}',currentRobot.name));
    } else {
      btn.textContent=T[lang].connect_btn; btn.style.opacity='1';
      err.style.display='block';
      const inp=document.getElementById('serial-input');
      inp.style.borderColor='var(--danger)';
      setTimeout(()=>inp.style.borderColor='rgba(0,180,255,0.3)',2000);
    }
  },1200);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TRIAL BANNER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateTrialBanner(){
  const banner=document.getElementById('trial-banner');
  if(isTrialActive() && !isPro()){
    banner.style.display='flex';
    document.getElementById('trial-days-left').textContent=trialDaysLeft();
  } else {
    banner.style.display='none';
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PROFILE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function saveProfile(){
  USER.name = document.getElementById('user-name-input').value;
  saveUser();
  updateProfileUI();
}

function saveBotName(){
  USER.botName = document.getElementById('bot-name-input').value || 'ZIVO';
  saveUser();
  document.getElementById('bot-display-name').textContent = USER.botName || 'ZIVO';
}

function toggleSmartMode(){
  if(!hasProAccess()){
    openSubModal(); return;
  }
  const tog=document.getElementById('smart-toggle');
  USER.smartMode = !USER.smartMode;
  tog.classList.toggle('on', USER.smartMode);
  saveUser();
  sendCmd(USER.smartMode ? 'smart_on' : 'smart_off');
}

function updateProfileUI(){
  const t=T[lang];
  // Name
  const name = USER.name || 'User';
  document.getElementById('profile-name-display').textContent = name;
  document.getElementById('user-name-input').value = USER.name || '';
  document.getElementById('bot-name-input').value = USER.botName || '';
  document.getElementById('bot-display-name').textContent = USER.botName || 'ZIVO';

  // Badge
  const badge=document.getElementById('sub-badge-display');
  if(isPro()){
    badge.className='sub-badge pro'; badge.textContent='PRO';
  } else if(isTrialActive()){
    badge.className='sub-badge trial'; badge.textContent='TRIAL '+trialDaysLeft()+'d';
  } else {
    badge.className='sub-badge free'; badge.textContent='FREE';
  }

  // Smart toggle
  document.getElementById('smart-toggle').classList.toggle('on', !!USER.smartMode);

  // Smart mode lock visual
  const smRow=document.getElementById('smart-mode-toggle-row');
  smRow.style.opacity = hasProAccess() ? '1' : '0.5';

  // Sub info
  const subInfo=document.getElementById('sub-current-info');
  if(isPro()){
    subInfo.innerHTML='<div style="font-size:13px;font-weight:700;color:var(--gold)">â­ PRO Active</div><div style="font-size:11px;color:var(--gray);margin-top:4px">'+
      (USER.sub==='forever'?'Lifetime':'Renews automatically')+'</div>';
  } else if(isTrialActive()){
    subInfo.innerHTML='<div style="font-size:13px;font-weight:700;color:var(--success)">ğŸ Free Trial</div><div style="font-size:11px;color:var(--gray);margin-top:4px">'+trialDaysLeft()+' days remaining â€” all features unlocked</div>';
  } else {
    subInfo.innerHTML='<div style="font-size:13px;font-weight:700;">Free Plan</div><div style="font-size:11px;color:var(--gray);margin-top:4px">Upgrade to unlock all features</div>';
  }

  // Voices
  renderVoices();

  // Calc AI button
  const aiBtn=document.getElementById('ai-solve-btn');
  const aiLock=document.getElementById('ai-locked-calc');
  if(hasProAccess()){
    aiBtn.style.display='block'; aiLock.style.display='none';
  } else {
    aiBtn.style.display='none'; aiLock.style.display='block';
  }
}

function renderVoices(){
  const list=document.getElementById('voice-list');
  list.innerHTML='';
  const locked=document.getElementById('voice-locked-msg');
  const pro=hasProAccess();
  VOICES.forEach(v=>{
    const isActive = (USER.voice||'default')===v.id;
    const isLocked = !v.free && !pro;
    const div=document.createElement('div');
    div.className='voice-card'+(isActive?' active':'')+(isLocked?' locked':'');
    div.innerHTML=`
      <div class="voice-avatar" style="background:linear-gradient(135deg,rgba(0,100,200,0.3),rgba(0,180,255,0.2))">${v.emoji}</div>
      <div>
        <div class="voice-name">${v.name}</div>
        <div class="voice-desc">${T[lang][v.desc_key]||''}</div>
      </div>
      ${isLocked ? '<div class="lock-icon" style="display:flex">ğŸ”’</div>' : `<div class="voice-play" onclick="event.stopPropagation();playVoicePreview('${v.id}')">â–¶</div>`}
    `;
    if(!isLocked){
      div.onclick=()=>selectVoice(v.id);
    } else {
      div.onclick=()=>openSubModal();
    }
    list.appendChild(div);
  });
  locked.style.display = pro ? 'none' : 'block';
}

function selectVoice(id){
  USER.voice=id; saveUser();
  sendCmd('set_voice:'+id);
  renderVoices();
  addLog('info','Voice: '+id);
}

function playVoicePreview(id){
  addLog('info','Preview: '+id);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SUBSCRIPTION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openSubModal(){
  document.getElementById('sub-modal').classList.add('open');
  selectPlan(selectedPlan);
  const trialInfo=document.getElementById('modal-trial-info');
  trialInfo.style.display = isTrialActive() ? 'block' : 'none';
}

function closeSubModal(){
  document.getElementById('sub-modal').classList.remove('open');
}

function selectPlan(plan){
  selectedPlan=plan;
  ['monthly','yearly','forever'].forEach(p=>{
    document.getElementById('plan-'+p).classList.toggle('active',p===plan);
  });
  const btn=document.getElementById('sub-btn');
  btn.className = plan==='forever' ? 'btn-primary gold' : 'btn-primary';
}

function subscribePlan(){
  // Demo â€” in real app connect to Stripe/PayPal here
  USER.sub=selectedPlan;
  USER.subStart=Date.now();
  saveUser();
  closeSubModal();
  updateProfileUI();
  addLog('ok','Subscribed: '+selectedPlan);
  // Update badge
  const badge=document.getElementById('sub-badge-display');
  badge.className='sub-badge pro'; badge.textContent='PRO';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CALCULATOR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let calcExpr='';

function calcInput(val){
  calcExpr += val;
  document.getElementById('calc-expr').textContent=calcExpr;
  try{
    const safe = calcExpr.replace(/\^/g,'**').replace(/sqrt\(/g,'Math.sqrt(');
    // eslint-disable-next-line no-new-func
    const res = new Function('return '+safe)();
    if(isFinite(res)) document.getElementById('calc-result').textContent=+res.toFixed(10);
  } catch(e){}
}

function calcClear(){ calcExpr=''; document.getElementById('calc-expr').textContent=''; document.getElementById('calc-result').textContent='0'; document.getElementById('calc-solution').style.display='none'; }
function calcBackspace(){ calcExpr=calcExpr.slice(0,-1); document.getElementById('calc-expr').textContent=calcExpr; }

function calcEquals(){
  try{
    const safe = calcExpr.replace(/\^/g,'**').replace(/sqrt\(/g,'Math.sqrt(');
    // eslint-disable-next-line no-new-func
    const res = new Function('return '+safe)();
    document.getElementById('calc-result').textContent=+res.toFixed(10);
    calcExpr=String(+res.toFixed(10));
  } catch(e){ document.getElementById('calc-result').textContent='ERR'; }
}

async function aiSolve(){
  if(!hasProAccess()){ openSubModal(); return; }
  const expr = calcExpr || document.getElementById('calc-result').textContent;
  if(!expr || expr==='0') return;
  const btn=document.getElementById('ai-solve-btn');
  btn.textContent='â³ '+T[lang].ai_solving;
  btn.disabled=true;
  const sol=document.getElementById('calc-solution');
  sol.style.display='block';
  sol.textContent='...';
  try{
    const resp = await fetch('https://api.anthropic.com/v1/messages',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({
        model:'claude-sonnet-4-20250514',
        max_tokens:500,
        messages:[{role:'user',content:'Solve step by step (be concise): '+expr}]
      })
    });
    const data=await resp.json();
    sol.textContent = data.content?.[0]?.text || 'No answer';
  } catch(e){
    // Offline fallback
    sol.textContent = '= '+document.getElementById('calc-result').textContent;
  }
  btn.innerHTML='ğŸ§  <span data-t="ai_solve">'+T[lang].ai_solve+'</span>';
  btn.disabled=false;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LOG & POLL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function addLog(type,text){
  const list=document.getElementById('log-list');
  const now=new Date();
  const time=String(now.getHours()).padStart(2,'0')+':'+String(now.getMinutes()).padStart(2,'0');
  const el=document.createElement('div');
  el.className='log-entry';
  el.innerHTML='<span class="log-time">'+time+'</span><span class="log-text '+type+'">'+text+'</span>';
  list.insertBefore(el,list.firstChild);
  while(list.children.length>20)list.removeChild(list.lastChild);
}

async function sendCmd(cmd){
  if(!connected||!currentSerial)return;
  try{await fetch('http://zivo.local:8080/command',{method:'POST',headers:{'Content-Type':'application/json','X-Serial':currentSerial},body:JSON.stringify({cmd}),signal:AbortSignal.timeout(2000)});}catch(e){}
}

async function pollRobot(){
  if(!connected||!currentSerial)return;
  try{
    const resp=await fetch('http://zivo.local:8080/status',{headers:{'X-Serial':currentSerial},signal:AbortSignal.timeout(2000)});
    if(!resp.ok)return;
    const data=await resp.json();
    const batt=data.battery??0;
    document.getElementById('batt-text').textContent=batt+'%';
    document.getElementById('batt-fill').style.width=batt+'%';
    document.getElementById('batt-text').style.color=batt<20?'var(--danger)':batt<50?'var(--warn)':'var(--success)';
    document.getElementById('temp-val').textContent=(data.temp??'--')+'Â°';
    if(data.uptime){const h=Math.floor(data.uptime/3600),m=Math.floor((data.uptime%3600)/60);document.getElementById('uptime-val').textContent=T[lang].upfmt(h,m);}
  }catch(e){}
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LANG & NAV
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function applyLang(l){
  lang=l; const t=T[l];
  document.querySelectorAll('[data-t]').forEach(el=>{
    const k=el.getAttribute('data-t');
    if(t[k]!==undefined) el.textContent=t[k];
  });
  document.getElementById('mood-text').textContent=t.moods[moodIdx];
  document.body.style.direction=l==='he'?'rtl':'ltr';
  document.getElementById('status-text').textContent=connected?t.online:t.offline;
  document.getElementById('connect-btn').textContent=t.connect_btn;
  if(document.getElementById('ai-solve-btn'))
    document.getElementById('ai-solve-btn').innerHTML='ğŸ§  '+t.ai_solve;
  renderVoices();
}

function selectLang(btn,l){
  document.querySelectorAll('.lang-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active'); applyLang(l);
}

function switchPage(name,el){
  document.querySelectorAll('.page').forEach(p=>p.style.display='none');
  document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));
  el.classList.add('active');
  if(name==='settings'){
    document.getElementById('page-settings').style.display='block';
  } else if(name==='profile'){
    document.getElementById('page-profile').style.display='block';
    updateProfileUI();
  } else if(name==='calc'){
    document.getElementById('page-calc').style.display='block';
    updateProfileUI();
  } else if(connected){
    document.getElementById('pages-wrapper').style.display='block';
    document.getElementById('page-'+name).style.display='block';
  }
}

// Close modal on overlay click
document.getElementById('sub-modal').addEventListener('click',function(e){
  if(e.target===this)closeSubModal();
});


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// REGISTRATION & LOGIN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function applyRegLang(l){
  const t=T[l];
  const set=(id,key)=>{const el=document.getElementById(id);if(el&&t[key])el.textContent=t[key];};
  set('reg-title','reg_title'); set('reg-subtitle','reg_subtitle');
  set('reg-name-label','reg_name'); set('reg-email-label','reg_email'); set('reg-password-label','reg_password');
  set('reg-btn','reg_btn'); set('reg-login-hint','reg_login_hint'); set('reg-login-btn','reg_login_link');
  set('login-title','login_title'); set('login-subtitle','login_subtitle');
  set('login-email-label','login_email'); set('login-password-label','login_password');
  set('login-btn','login_btn'); set('login-reg-link','login_reg_link');
  document.getElementById('reg-name').placeholder=t.reg_name||'';
  document.getElementById('reg-email').placeholder='email@example.com';
  document.getElementById('reg-password').placeholder='â€¢â€¢â€¢â€¢â€¢â€¢';
  document.getElementById('login-email').placeholder='email@example.com';
  document.getElementById('login-password').placeholder='â€¢â€¢â€¢â€¢â€¢â€¢';
}

function showRegForm(){
  document.getElementById('reg-screen').style.display='block';
  document.getElementById('login-screen').style.display='none';
  document.getElementById('offline-banner').style.display='none';
  document.getElementById('pages-wrapper').style.display='none';
  applyRegLang(lang);
}

function showLoginForm(){
  document.getElementById('reg-screen').style.display='none';
  document.getElementById('login-screen').style.display='block';
  document.getElementById('offline-banner').style.display='none';
  applyRegLang(lang);
}

function showOfflineBanner(){
  document.getElementById('reg-screen').style.display='none';
  document.getElementById('login-screen').style.display='none';
  document.getElementById('offline-banner').style.display='block';
}

function validateEmail(e){ return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e); }

async function completeRegistration(){
  const t=T[lang];
  const name=document.getElementById('reg-name').value.trim();
  const email=document.getElementById('reg-email').value.trim().toLowerCase();
  const pass=document.getElementById('reg-password').value;
  const err=document.getElementById('reg-error');
  err.style.display='none';
  if(!name||!email||!pass){err.textContent=t.reg_err_fill;err.style.display='block';return;}
  if(!validateEmail(email)){err.textContent=t.reg_err_email;err.style.display='block';return;}
  if(pass.length<6){err.textContent=t.reg_err_pass;err.style.display='block';return;}
  const btn=document.getElementById('reg-btn');
  btn.textContent='...';btn.disabled=true;
  try{
    const cred = await auth.createUserWithEmailAndPassword(email, pass);
    const now = Date.now();
    const userData = {name, email, registeredAt: now, firstConnected: now, sub: null, voice: 'default', smartMode: false, botName: 'ZIVO'};
    await db.collection('users').doc(cred.user.uid).set(userData);
    Object.assign(USER, userData);
    saveUser();
    document.getElementById('reg-screen').style.display='none';
    showOfflineBanner();
    updateProfileUI();
  } catch(e){
    let msg = e.message;
    if(e.code==='auth/email-already-in-use') msg=t.reg_err_exists;
    err.textContent=msg; err.style.display='block';
  }
  btn.textContent=t.reg_btn; btn.disabled=false;
}

async function completeLogin(){
  const t=T[lang];
  const email=document.getElementById('login-email').value.trim().toLowerCase();
  const pass=document.getElementById('login-password').value;
  const err=document.getElementById('login-error');
  err.style.display='none';
  if(!email||!pass){err.textContent=t.reg_err_fill;err.style.display='block';return;}
  const btn=document.getElementById('login-btn');
  btn.textContent='...'; btn.disabled=true;
  try{
    const cred = await auth.signInWithEmailAndPassword(email, pass);
    const snap = await db.collection('users').doc(cred.user.uid).get();
    if(snap.exists){
      const data = snap.data();
      Object.assign(USER, data);
      USER.uid = cred.user.uid;
      saveUser();
    }
    document.getElementById('login-screen').style.display='none';
    showOfflineBanner();
    updateProfileUI();
  } catch(e){
    let msg = e.message;
    if(e.code==='auth/user-not-found'||e.code==='auth/invalid-credential') msg=t.reg_err_notfound;
    if(e.code==='auth/wrong-password') msg=t.reg_err_wrongpass;
    err.textContent=msg; err.style.display='block';
  }
  btn.textContent=t.login_btn; btn.disabled=false;
}

async function logout(){
  await auth.signOut();
  ['email','name','registeredAt','uid','sub','voice','smartMode','botName','firstConnected'].forEach(k=>delete USER[k]);
  saveUser();
  setConnected(false);
  showRegForm();
}

function formatRegDate(ts){
  if(!ts)return'';
  const d=new Date(ts);
  const months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  return d.getDate()+' '+months[d.getMonth()]+' '+d.getFullYear();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Firebase auth state
auth.onAuthStateChanged(async (firebaseUser) => {
  if(firebaseUser){
    try{
      const snap = await db.collection('users').doc(firebaseUser.uid).get();
      if(snap.exists){ Object.assign(USER, snap.data()); USER.uid=firebaseUser.uid; saveUser(); }
    }catch(e){}
    showOfflineBanner();
    updateProfileUI();
    const lastSerial=localStorage.getItem('zivo_last_serial');
    if(lastSerial && lastSerial in REGISTERED_ROBOTS){
      currentRobot=REGISTERED_ROBOTS[lastSerial]; currentSerial=lastSerial;
      setTimeout(()=>{setConnected(true);addLog('ok',T[lang].log_connected.replace('{name}',currentRobot.name));},500);
    } else if(lastSerial){
      document.getElementById('serial-input').value=lastSerial;
    }
  } else {
    showRegForm();
  }
});

setInterval(pollRobot,3000);
setInterval(()=>{moodIdx=(moodIdx+1)%4;document.getElementById('mood-text').textContent=T[lang].moods[moodIdx];},4000);

applyLang('en');
setConnected(connected);
updateProfileUI();

if('serviceWorker' in navigator) navigator.serviceWorker.register('/sw.js');
</script>
</body>
</html>
